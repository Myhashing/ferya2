(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[327],{67093:function(e,t,r){"use strict";r.d(t,{Td:function(){return m},Th:function(){return x},Tr:function(){return j},hr:function(){return h},iA:function(){return d},p3:function(){return p},xJ:function(){return u}});var n=r(70079),i=r(59171),s=r(98026),o=r(92548),a=(...e)=>e.filter(Boolean).join(" "),[l,c]=(0,o.k)({name:"TableStylesContext",errorMessage:"useTableStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<Table />\" "}),d=(0,i.Gp)((e,t)=>{let r=(0,i.jC)("Table",e),{className:o,...c}=(0,s.Lr)(e);return n.createElement(l,{value:r},n.createElement(i.m$.table,{role:"table",ref:t,__css:r.table,className:a("chakra-table",o),...c}))});d.displayName="Table";var u=(0,i.Gp)((e,t)=>{let{overflow:r,overflowX:s,className:o,...l}=e;return n.createElement(i.m$.div,{ref:t,className:a("chakra-table__container",o),...l,__css:{display:"block",whiteSpace:"nowrap",WebkitOverflowScrolling:"touch",overflowX:r??s??"auto",overflowY:"hidden",maxWidth:"100%"}})});(0,i.Gp)((e,t)=>{let{placement:r="bottom",...s}=e,o=c();return n.createElement(i.m$.caption,{...s,ref:t,__css:{...o.caption,captionSide:r}})}).displayName="TableCaption";var h=(0,i.Gp)((e,t)=>{let r=c();return n.createElement(i.m$.thead,{...e,ref:t,__css:r.thead})}),p=(0,i.Gp)((e,t)=>{let r=c();return n.createElement(i.m$.tbody,{...e,ref:t,__css:r.tbody})});(0,i.Gp)((e,t)=>{let r=c();return n.createElement(i.m$.tfoot,{...e,ref:t,__css:r.tfoot})});var x=(0,i.Gp)(({isNumeric:e,...t},r)=>{let s=c();return n.createElement(i.m$.th,{...t,ref:r,__css:s.th,"data-is-numeric":e})}),j=(0,i.Gp)((e,t)=>{let r=c();return n.createElement(i.m$.tr,{role:"row",...e,ref:t,__css:r.tr})}),m=(0,i.Gp)(({isNumeric:e,...t},r)=>{let s=c();return n.createElement(i.m$.td,{role:"gridcell",...t,ref:r,__css:s.td,"data-is-numeric":e})})},34745:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/projects",function(){return r(67924)}])},51541:function(e,t,r){"use strict";function n(e){var t,r;return(e?(null!==(t=e.charAt(0))&&void 0!==t?t:"").toUpperCase()+(null!==(r=e.slice(1))&&void 0!==r?r:""):e).split(/(?=[A-Z])/).join(" ")}function i(e){return(1e32*Math.random()).toString(36).slice(0,e||8)}function s(e,t){return"".concat(e).concat(1===t?"":"s")}r.d(t,{D1:function(){return i},_6:function(){return s},fl:function(){return n}})},41770:function(e,t,r){"use strict";var n=r(35250),i=r(86099);let s=e=>(0,n.jsxs)(i.JO,{viewBox:"0 0 14 18",fill:"none",...e,children:[(0,n.jsx)("path",{d:"M1 4.31583H9.75207C10.3563 4.31583 10.9359 4.55509 11.3633 4.98101C11.7906 5.40692 12.0308 5.98461 12.031 6.58705C12.031 7.18963 11.7909 7.76752 11.3635 8.1936C10.9361 8.61969 10.3565 8.85906 9.75207 8.85906H1V4.31583Z",stroke:"currentColor",strokeMiterlimit:"10"}),(0,n.jsx)("path",{d:"M1 8.86026H10.4055C11.0099 8.86026 11.5896 9.09963 12.017 9.52572C12.4443 9.9518 12.6844 10.5297 12.6844 11.1323V11.1323C12.6844 11.4306 12.6255 11.7261 12.511 12.0017C12.3964 12.2774 12.2286 12.5278 12.017 12.7388C11.8053 12.9498 11.5541 13.1171 11.2776 13.2313C11.0011 13.3455 10.7048 13.4043 10.4055 13.4043H1V8.86026Z",stroke:"currentColor",strokeMiterlimit:"10"}),(0,n.jsx)("path",{d:"M4.49805 2.54008V0",stroke:"currentColor",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M8.34058 2.54008V0",stroke:"currentColor",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M4.49805 17.72V15.2186",stroke:"currentColor",strokeLinejoin:"round"}),(0,n.jsx)("path",{d:"M8.34058 17.72V15.2186",stroke:"currentColor",strokeLinejoin:"round"})]});t.Z=s},11123:function(e,t,r){"use strict";var n=r(35250),i=r(86099);let s=e=>(0,n.jsxs)(i.JO,{viewBox:"0 0 14 14",fill:"none",...e,children:[(0,n.jsx)("path",{d:"M1 1L5.5 5.5",stroke:"currentColor"}),(0,n.jsx)("path",{d:"M8.5 8.5L13 13",stroke:"currentColor"}),(0,n.jsx)("path",{d:"M13 1L0.999999 13",stroke:"currentColor"})]});t.Z=s},40484:function(e,t,r){"use strict";r.d(t,{M:function(){return d},y:function(){return c}});var n=r(19965),i=r(2912),s=r(54581),o=r(55805),a=r(13821),l=r(36898);function c(e){let{data:t}=(0,l.j)();return(0,n.a)(["emailOptIns",t],async()=>{let e;try{e=await (0,a._i)("".concat((0,o.kG)(),"/v1/email-opt-in"),{},{authToken:t,dontLogError:!0})}catch(t){var r;if(null==t?void 0:null===(r=t.message)||void 0===r?void 0:r.includes("404"))e=null;else throw t}return e},{...e,retry:!1,enabled:!!t})}function d(e){let{data:t}=(0,l.j)(),r=(0,i.NL)();return(0,s.D)(e=>(0,a._i)("".concat((0,o.kG)(),"/v1/email-opt-in"),{method:"PUT",body:JSON.stringify(e)},{authToken:t}),{...e,onSuccess:(n,i,s)=>{var o;r.invalidateQueries(["emailOptIns",t]),null==e||null===(o=e.onSuccess)||void 0===o||o.call(e,n,i,s)}})}},47583:function(e,t,r){"use strict";r.d(t,{M:function(){return s}});var n=r(54581),i=r(13821);let s=(e,t)=>{let r=(0,i.bK)(),s=(0,n.D)({mutationFn:()=>r.post("/pod/create"),onSuccess:e,onError:t});return s}},67924:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return eh}});var n=r(35250),i=r(89598),s=r(86046),o=r.n(s),a=r(48439),l=r(70079),c=r(95079),d=r(78152),u=r(40484),h=r(89643),p=r(5769),x=r(86099),j=r(67093),m=r(72450),g=r.n(m),f=r(68974),y=r(68845),b=r(47005),v=r(16050),C=r(91103),k=r(61888),w=r(24956),S=r(80157),z=r(53411),H=r(2989),O=r(42343),_=r(51541),M=r(37670);let Z=e=>(0,n.jsxs)(x.JO,{viewBox:"0 0 20 20",fill:"none",...e,children:[(0,n.jsx)("rect",{width:"20",height:"20",rx:"10",fill:"#CFC9C2"}),(0,n.jsx)("path",{d:"M14 6L6 14",stroke:"#141312"})]});var E=r(36349),L=r(31704),V=r(6127),A=r(37059),F=r(81261);function T(e){var t;let{project:r,isCondensed:s}=e,{analytics:o}=(0,c.IH)(),{id:a,name:d,updatedAt:u,archivedAt:m}=r,{user:y}=(0,i.D3)(),{isWalletConnected:T,mainnetAddress:D,testnetAddress:N}=(0,l.useContext)(z.ZP);(0,A.Z)(a);let{podStatusData:I}=(0,V.x)(),{data:R,isLoading:J,isError:P}=(0,F._0)(null==r?void 0:null===(t=r.id)||void 0===t?void 0:t.toString(),I,null==r?void 0:r.name,{onError:e=>{(0,H.H)(e,"Loading contracts from pod",{projectId:r.id.toString(),projectName:r.name,error:JSON.stringify(e)})}}),B=null==R?void 0:R.data,Q=B&&B.length>0?B.map(e=>e.name):[],{contractsDeployDetails:U}=(0,L.Z)(O.j.Testnet,N,Q),G=((0,k.values)(U)||[]).filter(e=>{let{txId:t}=e;return!!t}).length,{contractsDeployDetails:q}=(0,L.Z)(O.j.Mainnet,D,Q),W=((0,k.values)(q)||[]).filter(e=>{let{txId:t}=e;return!!t}).length,X=(0,l.useMemo)(()=>null==B?void 0:B.filter(e=>{var t,r;return!(null===(t=U[e.name])||void 0===t?void 0:t.txId)&&!(null===(r=q[e.name])||void 0===r?void 0:r.txId)}).length,[U,q,B]),[$,Y]=(0,l.useState)(!1),[K,ee]=(0,l.useState)(!1),{isOpen:et,onOpen:er,onClose:en}=(0,b.qY)(),ei=(0,M.Z)(),{mutateAsync:es}=(0,F.dY)(),eo=async e=>{en(),Y(!0),await new Promise(e=>setTimeout(e,150)),ee(!0);let t=Date.now();try{await es({id:a,archivedAt:e?t:null}),ei({description:"".concat(e?"Archived":"Unarchived"," ").concat(d),status:"success"})}catch(t){ee(!1),ei({description:"Could not ".concat(e?"archive":"unarchive"," your project, please try again later."),status:"error"})}finally{o.track({event:e?"project_archived":"project_unarchived",properties:{project:r,user:y}}),Y(!1)}},ea=async()=>{eo(!0)},el=async()=>{eo(!1)},ec={paddingTop:$?"0px":"1.5rem",paddingBottom:$?"0px":"1.5rem",transition:"all ".concat(150,"ms ease-out")},ed={maxHeight:$?"0px":"150px",transition:"max-height ".concat(150,"ms ease-out"),overflow:"hidden"},eu=!J&&!P,eh=(0,n.jsxs)(j.Tr,{"data-testid":"project-row",cursor:m?"default":"pointer",visibility:K?"collapse":"visible",children:[(0,n.jsx)(j.Td,{minWidth:"350px",style:ec,"data-testid":"project-name",children:(0,n.jsxs)(h.kC,{style:ed,direction:"column",gap:"1",children:[(0,n.jsx)(h.X6,{as:"h3",size:"5",noOfLines:1,display:"inline",pb:"1",letterSpacing:"-0.01em",children:m?d:(0,n.jsx)(g(),{href:"/projects/".concat(a),passHref:!0,children:d})}),eu&&(0,n.jsxs)(h.xv,{color:"gray.200",children:[(null==B?void 0:B.length)||0," ",(0,_._6)("Contract",B.length)]})]})}),(0,n.jsx)(j.Td,{maxWidth:"180px",style:ec,children:(0,n.jsx)(h.kC,{style:ed,direction:"column",gap:"1",children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h.xv,{textStyle:"subheading",children:"Testnet"}),(0,n.jsx)(h.kC,{align:"center",gap:"3",children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(E.Z,{}),T&&eu?(0,n.jsxs)(n.Fragment,{children:[G," ",(0,_._6)("Contract",G)]}):(0,n.jsx)(n.Fragment,{children:"—"})]})})]})})}),(0,n.jsx)(j.Td,{maxWidth:"180px",style:ec,children:(0,n.jsx)(h.kC,{style:ed,direction:"column",gap:"1",children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h.xv,{textStyle:"subheading",children:"Mainnet"}),(0,n.jsxs)(h.kC,{align:"center",gap:"3",children:[(0,n.jsx)(E.Z,{color:"stacksPurple"}),T&&eu?(0,n.jsxs)(n.Fragment,{children:[W," ",(0,_._6)("Contract",W)]}):(0,n.jsx)(n.Fragment,{children:"—"})]})]})})}),!s&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(j.Td,{maxWidth:"180px",style:ec,children:(0,n.jsx)(h.kC,{style:ed,direction:"column",gap:"1",children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h.xv,{textStyle:"subheading",children:"Drafts"}),(0,n.jsxs)(h.kC,{align:"center",gap:"3",children:[(0,n.jsx)(Z,{boxSize:"22px"}),eu?(0,n.jsxs)(n.Fragment,{children:[X," ",(0,_._6)("Contract",X)]}):(0,n.jsx)(n.Fragment,{children:"—"})]})]})})}),(0,n.jsx)(j.Td,{maxWidth:"180px",style:ec,children:(0,n.jsxs)(h.kC,{style:ed,direction:"column",gap:"1",children:[(0,n.jsx)(h.xv,{textStyle:"subheading",children:m?"Archived":"Last edited"}),(0,n.jsxs)(h.kC,{align:"center",gap:"2",children:[(0,n.jsx)(x.JO,{boxSize:"16px",as:f.ZEP}),S.WU(new Date(m||u))]})]})}),(0,n.jsx)(j.Td,{style:ec,textAlign:"right",maxWidth:"80px",pr:6,onClick:e=>{e.stopPropagation()},children:(0,n.jsx)(h.xu,{style:ed,children:(0,n.jsxs)(v.v2,{children:[(0,n.jsx)(v.j2,{as:p.hU,size:"sm",variant:"transparent",icon:(0,n.jsx)(x.JO,{as:f.evw,boxSize:"4"}),"data-testid":"project-action-menu-button"}),(0,n.jsx)(v.qy,{fontFamily:"body","data-testid":"project-action-menu",children:m?(0,n.jsx)(v.sN,{as:"button",onClick:el,children:(0,n.jsxs)(h.kC,{align:"center",justify:"space-between",w:"full",children:["Unarchive",(0,n.jsx)(x.JO,{as:w.Fap,boxSize:5})]})}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(v.sN,{as:"button",onClick:er,"data-testid":"project-action-archive",children:(0,n.jsxs)(h.kC,{align:"center",justify:"space-between",w:"full",children:["Archive",(0,n.jsx)(x.JO,{as:w.jrz,boxSize:"16px"})]})})})})]})})})]})]});return(0,n.jsxs)(n.Fragment,{children:[m?eh:(0,n.jsx)(g(),{href:"/projects/".concat(a),passHref:!0,legacyBehavior:!0,children:eh}),(0,n.jsxs)(C.u_,{isOpen:et,onClose:en,children:[(0,n.jsx)(C.ZA,{}),(0,n.jsxs)(C.hz,{children:[(0,n.jsxs)(C.xB,{children:["Archive ‘",d,"’"]}),(0,n.jsx)(C.fe,{children:"Are you sure you want to archive project? Archived projects can’t be edited, but you can always unarchive your projects to edit them again."}),(0,n.jsxs)(C.mz,{children:[(0,n.jsx)(p.zx,{variant:"primary",onClick:ea,children:"Archive project"}),(0,n.jsx)(p.zx,{onClick:en,children:"Cancel"})]})]})]})]})}function D(){let{data:e}=(0,F.Z0)({isArchived:!0});return(0,n.jsxs)(h.kC,{direction:"column",children:[(0,n.jsx)(y.Z,{children:(0,n.jsxs)(h.X6,{as:"h2",size:"4",display:"flex",alignItems:"center",gap:"4","data-testid":"archive-button",children:[(0,n.jsx)(g(),{href:"/projects",passHref:!0,legacyBehavior:!0,children:(0,n.jsx)(p.hU,{size:"sm","aria-label":"Back to main projects list",icon:(0,n.jsx)(x.JO,{as:f.And,boxSize:4}),"data-testid":"back-to-projects-list-button"})}),"Archive"]})}),!(null==e?void 0:e.length)&&(0,n.jsxs)(h.kC,{p:"6",borderRadius:"md",borderWidth:"2px",borderColor:"gray.500",borderStyle:"dashed",align:"center",children:["Your archive is empty.",(0,n.jsx)(g(),{passHref:!0,href:"/projects",legacyBehavior:!0,children:(0,n.jsx)(h.rU,{ml:"1",href:"/",children:"Return to main list."})})]}),(0,n.jsx)(j.xJ,{children:(0,n.jsx)(j.iA,{variant:"large",children:(0,n.jsx)(j.p3,{children:e&&e.sort((e,t)=>t.archivedAt-e.archivedAt).map(e=>(0,n.jsx)(T,{project:e},e.id))})})})]})}var N=r(82463),I=r(84488),R=r(92626),J=r(41770);let P=e=>(0,n.jsxs)(x.JO,{viewBox:"0 0 19 16",fill:"none",...e,children:[(0,n.jsx)("path",{d:"M15.9557 0.5H2.3465V1.43857H15.9557V0.5Z",fill:"#383432"}),(0,n.jsx)("path",{d:"M0.938568 1.4375H0V14.5775H0.938568V1.4375Z",fill:"#383432"}),(0,n.jsx)("path",{d:"M16.425 14.5781H2.3465V15.5167H16.425V14.5781Z",fill:"#383432"}),(0,n.jsx)("path",{d:"M18.7706 1.4375H17.832V14.5775H18.7706V1.4375Z",fill:"#383432"}),(0,n.jsx)("path",{d:"M3.52033 4.72426C3.9091 4.72426 4.22426 4.4091 4.22426 4.02033C4.22426 3.63156 3.9091 3.31641 3.52033 3.31641C3.13156 3.31641 2.81641 3.63156 2.81641 4.02033C2.81641 4.4091 3.13156 4.72426 3.52033 4.72426Z",fill:"#383432"}),(0,n.jsx)("path",{d:"M6.33625 4.72426C6.72502 4.72426 7.04018 4.4091 7.04018 4.02033C7.04018 3.63156 6.72502 3.31641 6.33625 3.31641C5.94748 3.31641 5.63232 3.63156 5.63232 4.02033C5.63232 4.4091 5.94748 4.72426 6.33625 4.72426Z",fill:"#383432"}),(0,n.jsx)("path",{d:"M9.15021 4.72426C9.53898 4.72426 9.85414 4.4091 9.85414 4.02033C9.85414 3.63156 9.53898 3.31641 9.15021 3.31641C8.76145 3.31641 8.44629 3.63156 8.44629 4.02033C8.44629 4.4091 8.76145 4.72426 9.15021 4.72426Z",fill:"#383432"})]}),B=e=>(0,n.jsxs)(x.JO,{viewBox:"0 0 18 16",fill:"none",...e,children:[(0,n.jsx)("path",{d:"M12.9122 3.04102H5.09219C2.45945 3.04102 0.313293 5.18718 0.313293 7.81992C0.313293 10.4527 2.45945 12.5988 5.09219 12.5988H12.9122C15.545 12.5988 17.6911 10.4527 17.6911 7.81992C17.6911 5.18718 15.545 3.04102 12.9122 3.04102ZM12.9122 11.7299H5.09219C2.93734 11.7299 1.18218 9.97477 1.18218 7.81992C1.18218 5.66507 2.93734 3.90991 5.09219 3.90991H12.9122C15.0671 3.90991 16.8222 5.66507 16.8222 7.81992C16.8222 9.97477 15.0671 11.7299 12.9122 11.7299Z",fill:"#383432"}),(0,n.jsx)("path",{d:"M9.00365 5.21289C7.56129 5.21289 6.39697 6.3772 6.39697 7.81956C6.39697 9.26192 7.56129 10.4262 9.00365 10.4262C10.446 10.4262 11.6103 9.26192 11.6103 7.81956C11.6103 6.3772 10.446 5.21289 9.00365 5.21289ZM9.00365 9.55735C8.04787 9.55735 7.26586 8.77534 7.26586 7.81956C7.26586 6.86378 8.04787 6.08178 9.00365 6.08178C9.95943 6.08178 10.7414 6.86378 10.7414 7.81956C10.7414 8.77534 9.95943 9.55735 9.00365 9.55735Z",fill:"#383432"}),(0,n.jsx)("path",{d:"M9.43762 0H8.56873V1.73778H9.43762V0Z",fill:"#383432"}),(0,n.jsx)("path",{d:"M5.52783 0H4.65894V1.73778H5.52783V0Z",fill:"#383432"}),(0,n.jsx)("path",{d:"M0.622211 0.569195L0.0078125 1.18359L1.23661 2.41239L1.85101 1.79799L0.622211 0.569195Z",fill:"#383432"}),(0,n.jsx)("path",{d:"M13.349 0H12.4801V1.73778H13.349V0Z",fill:"#383432"}),(0,n.jsx)("path",{d:"M17.385 0.566125L16.1562 1.79492L16.7706 2.40932L17.9994 1.18052L17.385 0.566125Z",fill:"#383432"}),(0,n.jsx)("path",{d:"M9.43762 13.9043H8.56873V15.6421H9.43762V13.9043Z",fill:"#383432"}),(0,n.jsx)("path",{d:"M13.349 13.9043H12.4801V15.6421H13.349V13.9043Z",fill:"#383432"}),(0,n.jsx)("path",{d:"M16.7665 13.2354L16.1519 13.8496L17.3802 15.0788L17.9948 14.4647L16.7665 13.2354Z",fill:"#383432"}),(0,n.jsx)("path",{d:"M5.52783 13.9043H4.65894V15.6421H5.52783V13.9043Z",fill:"#383432"}),(0,n.jsx)("path",{d:"M1.2288 13.236L0 14.4648L0.614399 15.0792L1.8432 13.8504L1.2288 13.236Z",fill:"#383432"})]});var Q=r(11123),U=r(16811),G=r(12734);let q=e=>{let{children:t,isSidebarOpen:r,sidebarHeader:i,sidebarContent:s}=e,{width:o}=function(){let[e,t]=(0,l.useState)({width:void 0,height:void 0});return(0,l.useEffect)(()=>{function e(){t({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]),e}(),a="300ms",c={md:346,lg:446,xl:500},d=e=>{let t=o>G.Vf;if(!t)return 0;let r=(o-G.Vf)/2,n=r-e>=0;return n?e:n?e:r-24};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h.xu,{h:"full",mr:r?(0,k.mapValues)(c,e=>"".concat(e+24-d(e),"px")):0,transition:"margin-right ".concat(a," ease-out"),children:t}),(0,n.jsxs)(h.kC,{position:"fixed",width:r?(0,k.mapValues)(c,e=>"".concat(e,"px")):0,opacity:r?1:0,transition:"padding ".concat(a," ease-out, width ").concat(a," ease-out, opacity ").concat(a," ease-out"),top:"".concat(G.Mz+24,"px"),bottom:"".concat(G.Tx,"px"),right:"".concat(24,"px"),whiteSpace:r?"initial":"nowrap",direction:"column",bg:"gray.600",borderRadius:"md",zIndex:"2",overflowX:"hidden",overflowY:"auto","data-testid":"sidebar-".concat(r?"open":"closed"),children:[(0,n.jsx)(h.xu,{position:"sticky",top:"0",bg:"gray.600",p:r?4:0,zIndex:1,children:i}),(0,n.jsx)(h.xu,{p:r?4:0,pt:"0",height:"100%",children:s})]})]})};var W=r(98259),X=r(72059),$=r(92666);let Y=e=>{let{value:t,onChange:r,label:i,rightElement:s,...o}=e,[a,c]=(0,l.useState)(!1),{onFocus:d,onBlur:u}=o,h=e=>{c(!0),null==d||d(e)},p=e=>{c(!1),null==u||u(e)},x=!a&&(!t||0===t.length);return(0,n.jsxs)(X.NI,{children:[(0,n.jsx)(X.lX,{position:"absolute",zIndex:"1",marginTop:"14px",marginLeft:"16px",transform:x?"scale(1)":"scale(0.8) translate(-10px, -14px)",transition:"transform 250ms",children:i}),(0,n.jsxs)($.BZ,{children:[(0,n.jsx)($.II,{...o,value:t,onChange:r,h:"48px",pt:"13px",onFocus:h,onBlur:p}),s&&(0,n.jsx)($.xH,{w:"auto",h:"auto",top:"8px",right:"8px",children:s})]})]})};function K(e){let t=e.split("github.com/")[1],r=t.split("/"),n=r[0],i=r[1],s="https://api.github.com/repos/".concat(n,"/").concat(i);return{githubUser:n,githubRepo:i,githubApiUrl:s}}let ee=()=>{let e=(0,M.Z)(),t=(0,a.useRouter)(),[r,s]=(0,l.useState)(""),[o,d]=(0,l.useState)(!1),{analytics:u}=(0,c.IH)(),{user:x}=(0,i.D3)(),j=e=>{s(e.target.value)},{mutate:m,isLoading:g}=(0,F.Qs)({onError:t=>{(0,H.H)(t,"Creating a new project from GitHub URL",{error:JSON.stringify(t)}),e({description:"Error cloning your project, please try again later.",status:"error"})},onSuccess:n=>{e({status:"success",description:"New project created."}),u.track({event:"project_from_github_imported",properties:{project:K(r),user:x}}),t.push("/projects/".concat(n.id))}}),f=async e=>{e.preventDefault(),d(!1);try{let{githubApiUrl:e,githubRepo:t}=K(null==r?void 0:r.trim()),n=await fetch(e);if(200!==n.status)throw Error("Repository not found");let i=await n.json(),s=i.size;if(s>5e4)throw Error("Repository exceeds size limit");m({name:"".concat(t,"-").concat((0,_.D1)(4)),templateUrl:"".concat(e,"/zipball")})}catch(e){d(!0)}};return(0,n.jsxs)(h.kC,{direction:"column",gap:"7",justify:"center",align:"center",h:"100%",children:[(0,n.jsx)(h.xu,{w:"60%",children:(0,n.jsx)("img",{src:"/images/githubLogoAscii.png",alt:"GitHub logo"})}),(0,n.jsxs)(h.kC,{direction:"column",gap:"4",textAlign:"center",children:[(0,n.jsx)(h.X6,{size:"5",children:"Import a live repository and get started"}),(0,n.jsx)(h.xv,{children:"Paste the repository’s URL below to use it (e.g., https://github.c om/abc/xyz). The repository must be publicly available to work."}),(0,n.jsx)(h.kC,{as:"form",onSubmit:f,align:"center",gap:"2",children:(0,n.jsx)(Y,{label:"GitHub URL",value:r,onChange:j,rightElement:(0,n.jsx)(p.zx,{size:"sm",variant:"secondaryLight",type:"submit",disabled:!r,bg:"gray.600",children:"Clone"})})}),g&&(0,n.jsx)(h.xu,{className:"fade-in-out",children:"Importing code..."}),o&&(0,n.jsx)(W.bZ,{status:"error",textAlign:"left",children:(0,n.jsxs)(h.xu,{children:[(0,n.jsx)(W.Cd,{children:"Unable to import repository"}),(0,n.jsx)(W.X,{children:"Double-check that everything is spelled correctly, you are using a public link, and the repository size is under 50MB."})]})})]})]})};var et=r(76090),er=r(47583);let en=[{name:"blank-project",description:"A blank project conforms to Clarinet-compliant project structure"},{name:"clarity-bitcoin",description:"Demonstrates how to parse Bitcoin transactions and block headers, and to verify Bitcoin transactions"},{name:"counter",description:"Demonstrates how to use and interact with variables in Clarity by incrementing a 32-bit unsigned integer"},{name:"fungible-token",description:"Demonstrates a basic fungible token that conforms to the SIP-010 FT standard"},{name:"hello-world",description:"A beginner smart contract with examples of commonly used Clarity expressions and data structures"},{name:"lightning-swaps",description:"Demonstrates LNSwap's submarine swaps between Stacks and Bitcoin"},{name:"nft-marketplace",description:"Demonstrates a minimalistic NFT marketplace that allows users to list NFT for sale"},{name:"non-fungible-token",description:"Demonstrates a basic NFT collection that conforms to the SIP-009 NFT standard"},{name:"ordyswap",description:"Demonstrates trustless atomic swaps between Ordinals and Stacks"}].map(e=>({...e,templateUrl:"https://raw.githubusercontent.com/hirosystems/clarity-examples/main/zips/".concat(e.name,".zip"),publicGithubUrl:"https://github.com/hirosystems/clarity-examples/tree/main/examples/".concat(e.name)}));function ei(e){let{children:t,onClick:r}=e;return(0,n.jsx)(h.kC,{width:"full",as:"button",onClick:r,textAlign:"left",direction:"column",borderRadius:"lg",p:"4",bg:"gray.500",_hover:{bg:"gray.400",color:"white"},children:t})}let es=e=>{var t,r;let{contractStarter:i,handleCreate:s}=e,{name:o,description:a,templateUrl:l,publicGithubUrl:c}=i||{};return(0,n.jsx)(n.Fragment,{children:o?(0,n.jsx)(ei,{onClick:()=>{s(o,l)},children:(0,n.jsxs)(h.kC,{w:"full",align:"center",justify:"space-between",children:[(0,n.jsxs)(h.kC,{direction:"column",gap:"1","data-testid":"project-template-card",children:[(0,n.jsx)(h.X6,{as:"h4",size:"5",wordBreak:"break-word","data-testid":"project-template-display-name",children:(null===(t=null===(r=(0,k.startCase)(o))||void 0===r?void 0:r.replace(/-/g," "))||void 0===t?void 0:t.replace(/nft/gi,"NFT"))||""}),(0,n.jsx)(h.xv,{color:"gray.100",children:a}),(0,n.jsx)(p.zx,{variant:"link",color:"gray.200",textDecorationColor:"gray.300",_hover:{color:"gray.100",textDecorationColor:"gray.200"},pl:"0",rightIcon:(0,n.jsx)(x.JO,{as:I.iq,boxSize:"4"}),as:"a",href:c,target:"_blank",mr:"auto",mt:"8",onClick:e=>{e.stopPropagation()},fontSize:"xs",letterSpacing:"-0.01em",children:"View source"})]}),(0,n.jsx)(x.JO,{as:I.WY3,boxSize:"5",color:"gray.100",alignSelf:"start",mt:"1"})]})},o):null})},eo=()=>{let e=(0,M.Z)(),{analytics:t}=(0,c.IH)(),{user:r}=(0,i.D3)(),s=(0,a.useRouter)(),o=(0,er.M)(),{mutate:d,isLoading:u}=(0,F.Qs)({onError:t=>{(0,H.H)(t,"Creating a new project",{error:JSON.stringify(t)}),e({description:"Error creating project, please try again later.",status:"error"})},onSuccess:n=>{e({status:"success",description:"New project created."}),o.mutate(),t.track({event:"project_created",properties:{user:r,newProject:n}}),s.push("/projects/".concat(n.id))}}),p=async(e,t)=>{u||d({name:"".concat(e,"-").concat((0,_.D1)(4)),templateUrl:t})},j=(0,l.useMemo)(()=>(0,k.keyBy)(en,"name"),[en]),m="blank-project",g=j[m],f=(0,l.useMemo)(()=>{let e=["hello-world","non-fungible-token","fungible-token","ordyswap"],t=(0,k.values)((0,k.pick)(j,e)),r=(0,k.sortBy)((0,k.values)((0,k.omit)(j,[...e,m])),"name");return[...t,...r]},[j]);return u?(0,n.jsxs)(h.kC,{direction:"column",align:"center",justify:"center",gap:"6",className:"fade-in-out",mt:"24",height:"full",children:[(0,n.jsx)(x.JO,{as:et.xv9,boxSize:20}),(0,n.jsx)(h.xv,{fontFamily:"caption",fontSize:"lg",children:"Creating your new project..."})]}):(0,n.jsxs)(h.kC,{direction:"column",gap:"4",mb:"4",children:[!en||(null==en?void 0:en.length)===0&&(0,k.times)(6,e=>(0,n.jsx)(h.kC,{width:"full",h:"160px",className:"fade-in-out",borderRadius:"lg",bg:"gray.500"},e)),(0,n.jsxs)(h.kC,{direction:"column",gap:"3",mb:"4",children:[(0,n.jsx)(h.xv,{color:"gray.300",textStyle:"subheading",children:"Start with a blank project"}),(0,n.jsx)(es,{contractStarter:g,handleCreate:p})]}),(0,n.jsxs)(h.kC,{direction:"column",gap:"3",mb:"4",children:[(0,n.jsx)(h.xv,{color:"gray.300",textStyle:"subheading",children:"Or start with one of our examples"}),null==f?void 0:f.map(e=>(0,n.jsx)(es,{contractStarter:e,handleCreate:p},e.name))]})]})},ea=e=>{let{children:t}=e;return(0,n.jsx)(h.kC,{flexShrink:"0",backgroundColor:"gray.100",p:"1",borderRadius:"16px",justify:"center",align:"center",w:"32px",h:"32px",children:t})},el=e=>{let{IconComponent:t,heading:r,url:s}=e,{analytics:o}=(0,c.IH)(),{user:a}=(0,i.D3)();return(0,n.jsx)(p.zx,{variant:"unstyled",height:"auto",as:"a",href:s,target:"_blank",w:"full",py:"4",onClick:e=>{e.stopPropagation(),o.track({event:"docs-link-clicked",properties:{user:a,docsType:r,url:s}})},children:(0,n.jsxs)(h.kC,{align:"center",gap:"3",children:[(0,n.jsx)(ea,{children:(0,n.jsx)(t,{color:"gray.500",boxSize:"18px"})}),(0,n.jsxs)(h.xu,{textAlign:"left",children:[(0,n.jsx)(h.X6,{size:"5",letterSpacing:"-0.01em",children:r}),(0,n.jsxs)(h.kC,{align:"center",color:"gray.300",fontFamily:"caption",fontSize:"xs",letterSpacing:"0.06em",children:[s.replace("https://",""),(0,n.jsx)(x.JO,{as:I.iq,boxSize:"3.5",color:"white",ml:"1"})]})]})]})})};function ec(){let{data:e,isLoading:t,isError:r,isSuccess:i}=(0,F.Z0)(),{data:s}=(0,F.Z0)({isArchived:!0}),[o,a]=(0,l.useState)(!1),[c,d]=(0,l.useState)(!1),u=()=>{a(!1),d(!1)},m=()=>{d(!1),a(!0)},f=()=>{a(!1),d(!0)},b=o||c,v=(0,l.useRef)(null),C=(0,R.Z)(v,[null==s?void 0:s.length,null==e?void 0:e.length]);return(0,n.jsxs)(q,{isSidebarOpen:b,sidebarHeader:(0,n.jsx)(h.kC,{direction:"column",gap:"2",children:(0,n.jsxs)(h.kC,{align:"center",justify:"space-between",children:[(0,n.jsxs)(h.X6,{as:"h2",size:"4","data-testid":"sidebar-header",children:[o&&"Create new project",c&&"Import from GitHub"]}),(0,n.jsx)(p.hU,{size:"sm",variant:"transparent",fontSize:"xl","aria-label":"close sidebar",onClick:u,icon:(0,n.jsx)(Q.Z,{}),"data-testid":"close-sidebar"})]})}),sidebarContent:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h.xu,{opacity:o?1:0,height:o?"auto":0,transition:"opacity 250ms ease-in",overflow:"hidden",children:(0,n.jsx)(eo,{})}),(0,n.jsx)(h.kC,{opacity:c?1:0,height:c?"100%":0,transition:"opacity 250ms ease-in",overflow:"hidden",justify:"center",align:"center",children:(0,n.jsx)(ee,{})})]}),children:[(0,n.jsx)(y.Z,{ref:v,children:(0,n.jsxs)(h.kC,{align:"center",justify:"space-between",gap:"3",h:"full",children:[(0,n.jsx)(h.X6,{as:"h2",size:"2",children:(null==e?void 0:e.length)>0&&"Projects"}),(0,n.jsx)(h.kC,{gap:"2",children:!b&&(0,n.jsxs)(n.Fragment,{children:[(null==s?void 0:s.length)>0&&(0,n.jsx)(g(),{href:"/projects?archived=true",passHref:!0,legacyBehavior:!0,children:(0,n.jsx)(p.zx,{as:"a",leftIcon:(0,n.jsx)(x.JO,{as:w.jrz,boxSize:4}),children:"Archive"})}),(null==e?void 0:e.length)>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.zx,{onClick:f,children:"Import from GitHub"}),(0,n.jsx)(p.zx,{onClick:m,children:"Create project"})]})]})})]})}),t&&(0,n.jsx)(h.xu,{mt:"4",textAlign:"center",children:(0,n.jsx)(N.$,{size:"lg"})}),r&&(0,n.jsx)(U.Z,{children:(0,n.jsxs)(h.kC,{direction:"column",gap:"2",children:[(0,n.jsx)(h.xv,{textStyle:"subheading",color:"gray.300",children:"Something went wrong"}),(0,n.jsx)(h.X6,{size:"4",children:"Sorry, we couldn't get your projects right now. Please try again later."})]})}),i&&!(null==e?void 0:e.length)&&(0,n.jsxs)(h.kC,{h:"calc(100% - ".concat(C,"px)"),justify:"center",align:"center",gap:4,children:[(0,n.jsxs)(h.kC,{h:"600px",justify:"center",direction:"column",gap:"4",width:"80%",maxWidth:"448px",minWidth:"300px",bg:"gray.600",p:"8",borderRadius:"md",align:"center",textAlign:"center",zIndex:"1",children:[(0,n.jsxs)(h.kC,{direction:"column",gap:"2",children:[(0,n.jsx)(h.xv,{textStyle:"subheading",color:"gray.300",children:"Create project"}),(0,n.jsx)(h.X6,{size:"4",children:"Get started by creating your first project."})]}),(0,n.jsx)(h.xu,{mx:"8",children:(0,n.jsx)("img",{src:"/images/newProject.png",alt:"New Project"})}),(0,n.jsxs)(h.kC,{gap:"2",direction:"column",width:"80%",children:[(0,n.jsx)(p.zx,{variant:"primary",onClick:m,w:"full",children:"Create project"}),(0,n.jsx)(p.zx,{onClick:f,w:"full",children:"Import from GitHub"})]})]}),(0,n.jsxs)(h.kC,{h:"600px",justify:"center",direction:"column",gap:"10",width:"80%",maxWidth:"448px",minWidth:"300px",bg:"gray.600",p:"8",borderRadius:"md",align:"center",textAlign:"center",zIndex:"1",children:[(0,n.jsxs)(h.kC,{direction:"column",gap:"2",children:[(0,n.jsx)(h.xv,{textStyle:"subheading",color:"gray.300",children:"Hiro Platform Docs"}),(0,n.jsx)(h.X6,{size:"4",children:"Find useful tips to kickstart your projects"})]}),(0,n.jsxs)(h.kC,{gap:"2",direction:"column",width:"80%",children:[(0,n.jsx)(el,{heading:"How to get started",url:"https://docs.hiro.so/platform/getting-started",IconComponent:B}),(0,n.jsx)(h.iz,{borderColor:"gray.500"}),(0,n.jsx)(el,{heading:"How to create a project",url:"https://docs.hiro.so/platform/create-project",IconComponent:P}),(0,n.jsx)(h.iz,{borderColor:"gray.500"}),(0,n.jsx)(el,{heading:"How to deploy a project",url:"https://docs.hiro.so/platform/deploy-project",IconComponent:J.Z})]}),(0,n.jsxs)(p.zx,{w:"full",as:"a",href:"https://docs.hiro.so/platform/overview",target:"_blank",children:["Hiro Platform Documentation",(0,n.jsx)(x.JO,{as:I.iq,boxSize:"3.5",color:"white",ml:"3"})]})]})]}),!t&&(null==e?void 0:e.length)?(0,n.jsx)(j.xJ,{children:(0,n.jsx)(j.iA,{variant:"large",children:(0,n.jsx)(j.p3,{children:e.sort((e,t)=>t.updatedAt-e.updatedAt).map(e=>(0,n.jsx)(T,{project:e,isCondensed:b},e.id))})})}):null]})}let ed=()=>{let e=(0,a.useRouter)(),t=!!e.query.archived,{analytics:r}=(0,c.IH)(),{user:s}=(0,i.D3)();(0,l.useEffect)(()=>{r.page({category:"Platform",name:"Projects",properties:{user:s}})},[]);let d=function(){let e=(0,a.useRouter)(),{user:t}=(0,i.D3)(),{data:r,isFetched:n,error:s}=(0,u.y)(),o=(null==s?void 0:s.status)===404;return(0,l.useEffect)(()=>{n&&o&&!r&&t.email&&e.push("/welcome")},[n,o,r,e,t.email]),n}();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o(),{children:[(0,n.jsx)("title",{children:"Hiro Platform: Projects"}),(0,n.jsx)("meta",{name:"description",content:"View your saved smart contract projects on the Hiro Platform."})]}),d&&(t?(0,n.jsx)(D,{}):(0,n.jsx)(ec,{}))]})},eu=()=>(0,n.jsx)(d.Z,{children:(0,n.jsx)(ed,{})});var eh=eu},66189:function(e,t,r){"use strict";r.d(t,{h:function(){return x}});var n=r(70079),i=r(1023),s=r(44680),o=r(32368),a=r(84625),l=r(32513);class c extends l.l{constructor(e,t){super(),this.client=e,this.queries=[],this.result=[],this.observers=[],this.observersMap={},t&&this.setQueries(t)}onSubscribe(){1===this.listeners.length&&this.observers.forEach(e=>{e.subscribe(t=>{this.onUpdate(e,t)})})}onUnsubscribe(){this.listeners.length||this.destroy()}destroy(){this.listeners=[],this.observers.forEach(e=>{e.destroy()})}setQueries(e,t){this.queries=e,o.V.batch(()=>{let e=this.observers,r=this.findMatchingObservers(this.queries);r.forEach(e=>e.observer.setOptions(e.defaultedQueryOptions,t));let n=r.map(e=>e.observer),i=Object.fromEntries(n.map(e=>[e.options.queryHash,e])),o=n.map(e=>e.getCurrentResult()),a=n.some((t,r)=>t!==e[r]);(e.length!==n.length||a)&&(this.observers=n,this.observersMap=i,this.result=o,this.hasListeners()&&((0,s.e5)(e,n).forEach(e=>{e.destroy()}),(0,s.e5)(n,e).forEach(e=>{e.subscribe(t=>{this.onUpdate(e,t)})}),this.notify()))})}getCurrentResult(){return this.result}getQueries(){return this.observers.map(e=>e.getCurrentQuery())}getOptimisticResult(e){return this.findMatchingObservers(e).map(e=>e.observer.getOptimisticResult(e.defaultedQueryOptions))}findMatchingObservers(e){let t=this.observers,r=e.map(e=>this.client.defaultQueryOptions(e)),n=r.flatMap(e=>{let r=t.find(t=>t.options.queryHash===e.queryHash);return null!=r?[{defaultedQueryOptions:e,observer:r}]:[]}),i=n.map(e=>e.defaultedQueryOptions.queryHash),s=r.filter(e=>!i.includes(e.queryHash)),o=t.filter(e=>!n.some(t=>t.observer===e)),l=e=>{let t=this.client.defaultQueryOptions(e),r=this.observersMap[t.queryHash];return null!=r?r:new a.z(this.client,t)},c=s.map((e,t)=>{if(e.keepPreviousData){let r=o[t];if(void 0!==r)return{defaultedQueryOptions:e,observer:r}}return{defaultedQueryOptions:e,observer:l(e)}}),d=(e,t)=>r.indexOf(e.defaultedQueryOptions)-r.indexOf(t.defaultedQueryOptions);return n.concat(c).sort(d)}onUpdate(e,t){let r=this.observers.indexOf(e);-1!==r&&(this.result=(0,s.Rc)(this.result,r,t),this.notify())}notify(){o.V.batch(()=>{this.listeners.forEach(e=>{e(this.result)})})}}var d=r(2912),u=r(38599),h=r(71515),p=r(79874);function x({queries:e,context:t}){let r=(0,d.NL)({context:t}),s=(0,u.S)(),a=n.useMemo(()=>e.map(e=>{let t=r.defaultQueryOptions(e);return t._optimisticResults=s?"isRestoring":"optimistic",t}),[e,r,s]),[l]=n.useState(()=>new c(r,a)),x=l.getOptimisticResult(a);(0,i.$)(n.useCallback(e=>s?()=>void 0:l.subscribe(o.V.batchCalls(e)),[l,s]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),n.useEffect(()=>{l.setQueries(a,{listeners:!1})},[a,l]);let j=(0,h._)();a.forEach(e=>{(0,p.pf)(e,j)}),(0,p.JN)(j);let m=x.find((e,t)=>{var r,n;return(0,p.KJ)({result:e,errorResetBoundary:j,useErrorBoundary:null!=(r=null==(n=a[t])?void 0:n.useErrorBoundary)&&r,query:l.getQueries()[t]})});if(null!=m&&m.error)throw m.error;return x}}},function(e){e.O(0,[821,505,112,465,345,68,774,888,179],function(){return e(e.s=34745)}),_N_E=e.O()}]);