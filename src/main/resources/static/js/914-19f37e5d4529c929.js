(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[914],{12426:function(e,t,r){"use strict";r.d(t,{RR:function(){return e8},cw:function(){return e1},o$:function(){return e2},zG:function(){return e7}});var n,i,s,o,a,u,f,c,l,h,d=r(92052),p=r(7681),g=r.n(p),y=r(62802),w=r(60490),b=r(26904),B=r(16254);(n=f||(f={})).ContractCall="contract_call",n.ContractDeploy="smart_contract",n.STXTransfer="token_transfer",(i=c||(c={})).BUFFER="buffer",i.UINT="uint",i.INT="int",i.PRINCIPAL="principal",i.BOOL="bool";var m=r(69897),E=r(59126),I=r(69249),S=r(86397),_=r(96999),O=r(77024),C=r(26491),U=r(11939);function N(e){let t=E.lW.from(e,"hex").byteLength;if(t!=m.UE)throw Error("Invalid signature");return{type:m.L8.MessageSignature,data:e}}function v(e,t){return{type:m.L8.Address,version:e,hash160:t}}var L=r(31080),T=r(70950),k=r(47547),P=r.n(k);class A{constructor(){this._value=[]}get value(){return this._value}appendHexString(e){this.value.push(E.lW.from(e,"hex"))}push(e){return this._value.push(e)}appendByte(e){if(!Number.isInteger(e)||e<0||e>255)throw Error(`Value ${e} is not a valid byte`);this.value.push(E.lW.from([e]))}concatBuffer(){return E.lW.concat(this.value)}}let x=e=>e.length%2==0?e:`0${e}`,F=(e,t)=>e.padEnd(t,"0"),V=(e,t)=>!!e&&E.lW.from(e).length>t,M=e=>E.lW.from((0,T.pr)(e)).toString("hex"),W=e=>E.lW.from((0,L.b)((0,S.J)(e))),$=e=>W(e).toString("hex"),R=e=>{let t=W(e),r=new A;r.appendByte(0),r.appendByte(t.length),r.push(t);let n=r.concatBuffer(),i=W(n);return i.toString("hex")},D=(e,t)=>{if(e>15||t.length>15)throw Error("P2SH multisig address can only contain up to 15 public keys");let r=new A;r.appendByte(80+e),t.forEach(e=>{r.appendByte(e.length),r.push(e)}),r.appendByte(80+t.length),r.appendByte(174);let n=r.concatBuffer(),i=W(n);return i.toString("hex")},K=(e,t)=>{if(e>15||t.length>15)throw Error("P2WSH multisig address can only contain up to 15 public keys");let r=new A;r.appendByte(80+e),t.forEach(e=>{r.appendByte(e.length),r.push(e)}),r.appendByte(80+t.length),r.appendByte(174);let n=r.concatBuffer(),i=E.lW.from((0,S.J)(n)),s=new A;s.appendByte(0),s.appendByte(i.length),s.push(i);let o=s.concatBuffer(),a=W(o);return a.toString("hex")};function H(e){return{type:m.L8.PublicKey,data:E.lW.from(e,"hex")}}_.P6.hmacSha256Sync=(e,...t)=>{let r=I.b.create(S.J,e);return t.forEach(e=>r.update(e)),r.digest()};let z=function(e,t,r=m.gW.Compressed){let n=function(e){if(e.length<129)throw Error("Invalid signature");let t=e.slice(0,2),r=e.slice(2,66),n=e.slice(66);return{recoveryId:(0,E.WR)(t),r,s:n}}(t.data),i=new _.Pc((0,E.y_)(n.r),(0,E.y_)(n.s)),s=_.E9.fromSignature(e,i,n.recoveryId),o=r===m.gW.Compressed;return s.toHex(o)};function X(e){return!e.data.toString("hex").startsWith("04")}function j(e){let t=new A;return t.push(e.data),t.concatBuffer()}function G(e){var t;let r=e.readUInt8(),n=4!==r?m.yl:m.wS;return t=E.lW.concat([E.lW.from([r]),e.readBuffer(n)]),{type:m.L8.PublicKey,data:t}}function Y(e,t,r){let n=r||m.Cy;if(V(e,n))throw Error(`String length exceeds maximum bytes ${n.toString()}`);return{type:m.L8.LengthPrefixedString,content:e,lengthPrefixBytes:t||1,maxLengthBytes:n}}function q(e){let t=(0,U.yI)(e);return{type:m.L8.Address,version:t[0],hash160:t[1]}}(s=l||(l={}))[s.Int=0]="Int",s[s.UInt=1]="UInt",s[s.Buffer=2]="Buffer",s[s.BoolTrue=3]="BoolTrue",s[s.BoolFalse=4]="BoolFalse",s[s.PrincipalStandard=5]="PrincipalStandard",s[s.PrincipalContract=6]="PrincipalContract",s[s.ResponseOk=7]="ResponseOk",s[s.ResponseErr=8]="ResponseErr",s[s.OptionalNone=9]="OptionalNone",s[s.OptionalSome=10]="OptionalSome",s[s.List=11]="List",s[s.Tuple=12]="Tuple",s[s.StringASCII=13]="StringASCII",s[s.StringUTF8=14]="StringUTF8";class Z extends Error{constructor(e){super(e),this.message=e,this.name=this.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class J extends Error{constructor(e){super(e),this.message=e,this.name=this.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class Q extends Error{constructor(e){super(e),this.message=e,this.name=this.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class ee extends Error{constructor(e){super(e),this.message=e,this.name=this.constructor.name,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}function et(e,t){let r=E.lW.from([e]);return E.lW.concat([r,t])}function er(e,t){let r=new A,n=E.lW.from(e.data,t),i=E.lW.alloc(4);return i.writeUInt32BE(n.length,0),r.push(i),r.push(n),et(e.type,r.concatBuffer())}function en(e){switch(e.type){case l.BoolTrue:case l.BoolFalse:return E.lW.from([e.type]);case l.OptionalNone:case l.OptionalSome:return e.type===l.OptionalNone?E.lW.from([e.type]):et(e.type,en(e.value));case l.Buffer:return function(e){let t=E.lW.alloc(4);return t.writeUInt32BE(e.buffer.length,0),et(e.type,E.lW.concat([t,e.buffer]))}(e);case l.UInt:return function(e){let t=(0,E.Qi)(e.value,m.Pe);return et(e.type,t)}(e);case l.Int:return function(e){let t=(0,E.Qi)((0,E.$j)(e.value,BigInt(m.Nv)),m.Pe);return et(e.type,t)}(e);case l.PrincipalStandard:return et(e.type,eC(e.address));case l.PrincipalContract:return et(e.type,E.lW.concat([eC(e.address),ev(e.contractName)]));case l.ResponseOk:case l.ResponseErr:return et(e.type,en(e.value));case l.List:return function(e){let t=new A,r=E.lW.alloc(4);for(let n of(r.writeUInt32BE(e.list.length,0),t.push(r),e.list)){let e=en(n);t.push(e)}return et(e.type,t.concatBuffer())}(e);case l.Tuple:return function(e){let t=new A,r=E.lW.alloc(4);r.writeUInt32BE(Object.keys(e.data).length,0),t.push(r);let n=Object.keys(e.data).sort((e,t)=>{let r=E.lW.from(e),n=E.lW.from(t);return r.compare(n)});for(let r of n){let n=Y(r);t.push(ev(n));let i=en(e.data[r]);t.push(i)}return et(e.type,t.concatBuffer())}(e);case l.StringASCII:return er(e,"ascii");case l.StringUTF8:return er(e,"utf8");default:throw new Z("Unable to serialize. Invalid Clarity Value.")}}let ei=BigInt("0xffffffffffffffffffffffffffffffff"),es=BigInt(0),eo=BigInt("0x7fffffffffffffffffffffffffffffff"),ea=BigInt("-170141183460469231731687303715884105728"),eu=e=>{let t=(0,E.HN)(e,!0);if(t>eo)throw RangeError(`Cannot construct clarity integer from value greater than ${eo.toString()}`);if(t<ea)throw RangeError(`Cannot construct clarity integer form value less than ${ea.toString()}`);return{type:l.Int,value:t}},ef=e=>{let t=(0,E.HN)(e,!1);if(t<es)throw RangeError("Cannot construct unsigned clarity integer from negative value");if(t>ei)throw RangeError(`Cannot construct unsigned clarity integer greater than ${ei.toString()}`);return{type:l.UInt,value:t}},ec=e=>{if(e.length>1e6)throw Error("Cannot construct clarity buffer that is greater than 1MB");return{type:l.Buffer,buffer:e}},el=()=>({type:l.BoolTrue}),eh=()=>({type:l.BoolFalse});function ed(e,t){if(E.lW.byteLength(t.content)>=128)throw Error("Contract name must be less than 128 bytes");return{type:l.PrincipalContract,address:e,contractName:t}}var ep=r(21286);let eg=new Map;class ey{constructor(e){E.lW.isBuffer(e)?this.smartBuffer=new ep.$({buff:e}):this.smartBuffer=new ep.$(e)}static fromBuffer(e){return new ey({buff:e})}readBuffer(e){return this.smartBuffer.readBuffer(e)}readUInt32BE(e){return this.smartBuffer.readUInt32BE(e)}readUInt8(){return this.smartBuffer.readUInt8()}readUInt16BE(){return this.smartBuffer.readUInt16BE()}readBigUIntLE(e){let t=E.lW.from(this.smartBuffer.readBuffer(e)).reverse(),r=t.toString(),n=BigInt(`0x${r}`);return n}readBigUIntBE(e){let t=this.smartBuffer.readBuffer(e),r=t.toString("hex"),n=BigInt(`0x${r}`);return n}readBigUInt64BE(){return this.smartBuffer.readBigUInt64BE()}readString(e,t){return this.smartBuffer.readString(e,t)}get readOffset(){return this.smartBuffer.readOffset}set readOffset(e){this.smartBuffer.readOffset=e}get internalBuffer(){return this.smartBuffer.internalBuffer}readUInt8Enum(e,t){let r=this.smartBuffer.readUInt8();if(function e(t,r){let n=eg.get(t);if(void 0!==n)return n(r);let i=function(e){let t=Object.values(e).filter(e=>"number"==typeof e),r=new Set(t);return e=>r.has(e)}(t);return eg.set(t,i),e(t,r)}(e,r))return r;throw t(r)}}let ew=e=>({type:l.StringASCII,data:e}),eb=e=>({type:l.StringUTF8,data:e});function eB(e){var t,r,n;let i;if("string"==typeof e){let t="0x"===e.slice(0,2).toLowerCase();i=new ey(E.lW.from(t?e.slice(2):e,"hex"))}else i=E.lW.isBuffer(e)?new ey(e):e;let s=i.readUInt8Enum(l,e=>{throw new J(`Cannot recognize Clarity Type: ${e}`)});switch(s){case l.Int:return eu(i.readBuffer(16));case l.UInt:return ef(i.readBuffer(16));case l.Buffer:let o=i.readUInt32BE();return ec(i.readBuffer(o));case l.BoolTrue:return el();case l.BoolFalse:return eh();case l.PrincipalStandard:let a=eU(i);return{type:l.PrincipalStandard,address:a};case l.PrincipalContract:let u=eU(i),f=eL(i);return ed(u,f);case l.ResponseOk:return t=eB(i),{type:l.ResponseOk,value:t};case l.ResponseErr:return r=eB(i),{type:l.ResponseErr,value:r};case l.OptionalNone:return{type:l.OptionalNone};case l.OptionalSome:return n=eB(i),{type:l.OptionalSome,value:n};case l.List:let c=i.readUInt32BE(),h=[];for(let e=0;e<c;e++)h.push(eB(i));return{type:l.List,list:h};case l.Tuple:let d=i.readUInt32BE(),p={};for(let e=0;e<d;e++){let e=eL(i).content;if(void 0===e)throw new J('"content" is undefined');p[e]=eB(i)}return function(e){for(let r in e){var t;if(t=r,!/^[a-zA-Z]([a-zA-Z0-9]|[-_!?+<>=/*])*$|^[-+=/*]$|^[<>]=?$/.test(t)||!(t.length<128))throw Error(`"${r}" is not a valid Clarity name`)}return{type:l.Tuple,data:e}}(p);case l.StringASCII:let g=i.readUInt32BE(),y=i.readBuffer(g).toString("ascii");return ew(y);case l.StringUTF8:let w=i.readUInt32BE(),b=i.readBuffer(w).toString("utf8");return eb(b);default:throw new J("Unable to deserialize Clarity Value from buffer. Could not find valid Clarity Type.")}}function em(e){let t=new A;switch(t.appendByte(e.payloadType),e.payloadType){case m.MX.TokenTransfer:t.push(en(e.recipient)),t.push((0,E.sO)(e.amount,!1,8)),t.push(e_(e.memo));break;case m.MX.ContractCall:t.push(e_(e.contractAddress)),t.push(e_(e.contractName)),t.push(e_(e.functionName));let r=E.lW.alloc(4);r.writeUInt32BE(e.functionArgs.length,0),t.push(r),e.functionArgs.forEach(e=>{t.push(en(e))});break;case m.MX.SmartContract:t.push(e_(e.contractName)),t.push(e_(e.codeBody));break;case m.MX.PoisonMicroblock:break;case m.MX.Coinbase:t.push(e.coinbaseBuffer)}return t.concatBuffer()}function eE(e){return N(e.readBuffer(m.UE).toString("hex"))}function eI(e,t){return{pubKeyEncoding:e,type:m.L8.TransactionAuthField,contents:t}}function eS(e){let t=new A;return t.appendHexString(e.data),t.concatBuffer()}function e_(e){switch(e.type){case m.L8.Address:return eC(e);case m.L8.Principal:return eN(e);case m.L8.LengthPrefixedString:return ev(e);case m.L8.MemoString:return function(e){let t=new A,r=E.lW.from(e.content),n=F(r.toString("hex"),2*m.dV);return t.push(E.lW.from(n,"hex")),t.concatBuffer()}(e);case m.L8.AssetInfo:return eP(e);case m.L8.PostCondition:return eM(e);case m.L8.PublicKey:return j(e);case m.L8.LengthPrefixedList:return eF(e);case m.L8.Payload:return em(e);case m.L8.TransactionAuthField:return function(e){let t=new A;switch(e.contents.type){case m.L8.PublicKey:e.pubKeyEncoding==m.gW.Compressed?(t.appendByte(h.PublicKeyCompressed),t.push(j(e.contents))):(t.appendByte(h.PublicKeyUncompressed),t.push(j(function(e){let t="string"==typeof e?e:(0,E.ci)(e),r=_.E9.fromHex(t).toHex(!0);return H(r)}(e.contents.data))));break;case m.L8.MessageSignature:e.pubKeyEncoding==m.gW.Compressed?t.appendByte(h.SignatureCompressed):t.appendByte(h.SignatureUncompressed),t.push(eS(e.contents))}return t.concatBuffer()}(e);case m.L8.MessageSignature:return eS(e)}}function eO(e,t,r,n){if(0===n.length)throw Error("Invalid number of public keys");if((t===m.dO.SerializeP2PKH||t===m.dO.SerializeP2WPKH)&&(1!==n.length||1!==r))throw Error("Invalid number of public keys or signatures");if(t===m.dO.SerializeP2WPKH||t===m.dO.SerializeP2WSH){for(let e=0;e<n.length;e++)if(!X(n[e]))throw Error("Public keys must be compressed for segwit")}switch(t){case m.dO.SerializeP2PKH:return v(e,$(n[0].data));case m.dO.SerializeP2WPKH:return v(e,R(n[0].data));case m.dO.SerializeP2SH:return v(e,D(r,n.map(j)));case m.dO.SerializeP2WSH:return v(e,K(r,n.map(j)))}}function eC(e){let t=new A;return t.appendHexString((0,E.I4)(e.version,1)),t.appendHexString(e.hash160),t.concatBuffer()}function eU(e){let t=(0,E.WR)(e.readBuffer(1).toString("hex")),r=e.readBuffer(20).toString("hex");return{type:m.L8.Address,version:t,hash160:r}}function eN(e){let t=new A;return t.push(E.lW.from([e.prefix])),t.push(eC(e.address)),e.prefix===m.YZ.Contract&&t.push(ev(e.contractName)),t.concatBuffer()}function ev(e){let t=new A,r=E.lW.from(e.content),n=r.byteLength;return t.appendHexString((0,E.I4)(n,e.lengthPrefixBytes)),t.push(r),t.concatBuffer()}function eL(e,t,r){t=t||1;let n=(0,E.WR)(e.readBuffer(t).toString("hex")),i=e.readBuffer(n).toString();return Y(i,t,null!=r?r:128)}function eT(e){if(e&&V(e,m.dV))throw Error(`Memo exceeds maximum length of ${m.dV.toString()} bytes`);return{type:m.L8.MemoString,content:e}}function ek(e){let t=e.readBuffer(m.dV).toString();return{type:m.L8.MemoString,content:t}}function eP(e){let t=new A;return t.push(eC(e.address)),t.push(ev(e.contractName)),t.push(ev(e.assetName)),t.concatBuffer()}function eA(e){return{type:m.L8.AssetInfo,address:eU(e),contractName:eL(e),assetName:eL(e)}}function ex(e,t){return{type:m.L8.LengthPrefixedList,lengthPrefixBytes:t||4,values:e}}function eF(e){let t=e.values,r=new A;r.appendHexString((0,E.I4)(t.length,e.lengthPrefixBytes));for(let e=0;e<t.length;e++)r.push(e_(t[e]));return r.concatBuffer()}function eV(e,t,r){let n=(0,E.WR)(e.readBuffer(r||4).toString("hex")),i=[];for(let r=0;r<n;r++)switch(t){case m.L8.Address:i.push(eU(e));break;case m.L8.LengthPrefixedString:i.push(eL(e));break;case m.L8.MemoString:i.push(ek(e));break;case m.L8.AssetInfo:i.push(eA(e));break;case m.L8.PostCondition:i.push(function(e){let t,r,n;let i=e.readUInt8Enum(m.sX,e=>{throw new J(`Could not read ${e} as PostConditionType`)}),s=function(e){let t=e.readUInt8Enum(m.YZ,e=>{throw new J("Unexpected Principal payload type: ${n}")}),r=eU(e);if(t===m.YZ.Standard)return{type:m.L8.Principal,prefix:t,address:r};let n=eL(e);return{type:m.L8.Principal,prefix:t,address:r,contractName:n}}(e);switch(i){case m.sX.STX:return t=e.readUInt8Enum(m.DY,e=>{throw new J(`Could not read ${e} as FungibleConditionCode`)}),n=BigInt("0x"+e.readBuffer(8).toString("hex")),{type:m.L8.PostCondition,conditionType:m.sX.STX,principal:s,conditionCode:t,amount:n};case m.sX.Fungible:return r=eA(e),t=e.readUInt8Enum(m.DY,e=>{throw new J(`Could not read ${e} as FungibleConditionCode`)}),n=BigInt("0x"+e.readBuffer(8).toString("hex")),{type:m.L8.PostCondition,conditionType:m.sX.Fungible,principal:s,conditionCode:t,amount:n,assetInfo:r};case m.sX.NonFungible:r=eA(e);let o=eB(e);return t=e.readUInt8Enum(m.Am,e=>{throw new J(`Could not read ${e} as FungibleConditionCode`)}),{type:m.L8.PostCondition,conditionType:m.sX.NonFungible,principal:s,conditionCode:t,assetInfo:r,assetName:o}}}(e));break;case m.L8.PublicKey:i.push(G(e));break;case m.L8.TransactionAuthField:i.push(function(e){let t=e.readUInt8Enum(h,e=>{throw new J(`Could not read ${e} as AuthFieldType`)});switch(t){case h.PublicKeyCompressed:return eI(m.gW.Compressed,G(e));case h.PublicKeyUncompressed:return eI(m.gW.Uncompressed,G(e));case h.SignatureCompressed:return eI(m.gW.Compressed,eE(e));case h.SignatureUncompressed:return eI(m.gW.Uncompressed,eE(e));default:throw Error(`Unknown auth field type: ${JSON.stringify(t)}`)}}(e))}return ex(i,r)}function eM(e){let t=new A;return t.appendByte(e.conditionType),t.push(eN(e.principal)),(e.conditionType===m.sX.Fungible||e.conditionType===m.sX.NonFungible)&&t.push(eP(e.assetInfo)),e.conditionType===m.sX.NonFungible&&t.push(en(e.assetName)),t.appendByte(e.conditionCode),(e.conditionType===m.sX.STX||e.conditionType===m.sX.Fungible)&&t.push((0,E.sO)(e.amount,!1,8)),t.concatBuffer()}function eW(){return{type:m.L8.MessageSignature,data:E.lW.alloc(m.UE,0).toString("hex")}}function e$(e,t,r,n){let i=eO(0,e,1,[H(t)]).hash160,s=X(H(t))?m.gW.Compressed:m.gW.Uncompressed;return{hashMode:e,signer:i,nonce:(0,E.HN)(r,!1),fee:(0,E.HN)(n,!1),keyEncoding:s,signature:eW()}}function eR(e){return"signature"in e}function eD(e){let t=P()(e);return t.nonce=0,t.fee=0,eR(t)?t.signature=eW():t.fields=[],Object.assign(Object.assign({},t),{nonce:BigInt(0),fee:BigInt(0)})}function eK(e){return eR(e)?function(e){let t=new A;return t.appendByte(e.hashMode),t.appendHexString(e.signer),t.push((0,E.sO)(e.nonce,!1,8)),t.push((0,E.sO)(e.fee,!1,8)),t.appendByte(e.keyEncoding),t.push(eS(e.signature)),t.concatBuffer()}(e):function(e){let t=new A;t.appendByte(e.hashMode),t.appendHexString(e.signer),t.push((0,E.sO)(e.nonce,!1,8)),t.push((0,E.sO)(e.fee,!1,8));let r=ex(e.fields);t.push(eF(r));let n=E.lW.alloc(2);return n.writeUInt16BE(e.signaturesRequired,0),t.push(n),t.concatBuffer()}(e)}function eH(e){let t=e.readUInt8Enum(m.dO,e=>{throw new J(`Could not parse ${e} as AddressHashMode`)});return t===m.dO.SerializeP2PKH||t===m.dO.SerializeP2WPKH?function(e,t){let r=t.readBuffer(20).toString("hex"),n=BigInt("0x"+t.readBuffer(8).toString("hex")),i=BigInt("0x"+t.readBuffer(8).toString("hex")),s=t.readUInt8Enum(m.gW,e=>{throw new J(`Could not parse ${e} as PubKeyEncoding`)});if(e===m.dO.SerializeP2WPKH&&s!=m.gW.Compressed)throw new J("Failed to parse singlesig spending condition: incomaptible hash mode and key encoding");let o=eE(t);return{hashMode:e,signer:r,nonce:n,fee:i,keyEncoding:s,signature:o}}(t,e):function(e,t){let r=t.readBuffer(20).toString("hex"),n=BigInt("0x"+t.readBuffer(8).toString("hex")),i=BigInt("0x"+t.readBuffer(8).toString("hex")),s=eV(t,m.L8.TransactionAuthField).values,o=!1,a=0;for(let e of s)switch(e.contents.type){case m.L8.PublicKey:X(e.contents)||(o=!0);break;case m.L8.MessageSignature:if(e.pubKeyEncoding===m.gW.Uncompressed&&(o=!0),65536===(a+=1))throw new ee("Failed to parse multisig spending condition: too many signatures")}let u=t.readUInt16BE();if(o&&e===m.dO.SerializeP2SH)throw new ee("Uncompressed keys are not allowed in this hash mode");return{hashMode:e,signer:r,nonce:n,fee:i,fields:s,signaturesRequired:u}}(t,e)}function ez(e,t,r,n){let i=e+E.lW.from([t]).toString("hex")+(0,E.sO)(r,!1,8).toString("hex")+(0,E.sO)(n,!1,8).toString("hex");if(49!==E.lW.from(i,"hex").byteLength)throw Error("Invalid signature hash length");return M(E.lW.from(i,"hex"))}function eX(e,t,r){let n=33+m.UE,i=X(t)?m.gW.Compressed:m.gW.Uncompressed,s=e+x(i.toString(16))+r.data,o=E.lW.from(s,"hex");if(o.byteLength>n)throw Error("Invalid signature hash length");return M(o)}function ej(e,t,r,n,i,s){let o=ez(e,t,r,n),a=H(z(o,s,i)),u=eX(o,a,s);return{pubKey:a,nextSigHash:u}}function eG(e){return{authType:m.Gr.Standard,spendingCondition:e}}function eY(e,t){return{authType:m.Gr.Sponsored,spendingCondition:e,sponsorSpendingCondition:t||e$(m.dO.SerializeP2PKH,"0".repeat(66),0,0)}}function eq(e){if(e.spendingCondition)switch(e.authType){case m.Gr.Standard:return eG(eD(e.spendingCondition));case m.Gr.Sponsored:return eY(eD(e.spendingCondition),function(){let e=e$(m.dO.SerializeP2PKH,"",0,0);return e.signer=({type:m.L8.Address,version:m.TK.MainnetSingleSig,hash160:"0".repeat(40)}).hash160,e.keyEncoding=m.gW.Compressed,e.signature=eW(),e}());default:throw new Q("Unexpected authorization type for signing")}throw Error("Authorization missing SpendingCondition")}(o=h||(h={}))[o.PublicKeyCompressed=0]="PublicKeyCompressed",o[o.PublicKeyUncompressed=1]="PublicKeyUncompressed",o[o.SignatureCompressed=2]="SignatureCompressed",o[o.SignatureUncompressed=3]="SignatureUncompressed";class eZ{constructor(e,t,r,n,i,s,o){if(this.version=e,this.auth=t,"amount"in r?this.payload=Object.assign(Object.assign({},r),{amount:(0,E.HN)(r.amount,!1)}):this.payload=r,this.chainId=null!=o?o:m.rC,this.postConditionMode=null!=i?i:m.hW.Deny,this.postConditions=null!=n?n:ex([]),s)this.anchorMode=s;else switch(r.payloadType){case m.MX.Coinbase:case m.MX.PoisonMicroblock:this.anchorMode=m.u0.OnChainOnly;break;case m.MX.ContractCall:case m.MX.SmartContract:case m.MX.TokenTransfer:this.anchorMode=m.u0.Any}}signBegin(){let e=P()(this);return e.auth=eq(e.auth),e.txid()}verifyBegin(){let e=P()(this);return e.auth=eq(e.auth),e.txid()}verifyOrigin(){return function(e,t){switch(e.authType){case m.Gr.Standard:case m.Gr.Sponsored:var r,n;return r=e.spendingCondition,n=m.Gr.Standard,eR(r)?function(e,t,r){let{pubKey:n,nextSigHash:i}=ej(t,r,e.fee,e.nonce,e.keyEncoding,e.signature),s=eO(0,e.hashMode,1,[n]).hash160;if(s!==e.signer)throw new ee(`Signer hash does not equal hash of public key(s): ${s} != ${e.signer}`);return i}(r,t,n):function(e,t,r){let n=[],i=t,s=!1,o=0;for(let t of e.fields){let a;switch(t.contents.type){case m.L8.PublicKey:X(t.contents)||(s=!0),a=t.contents;break;case m.L8.MessageSignature:t.pubKeyEncoding===m.gW.Uncompressed&&(s=!0);let{pubKey:u,nextSigHash:f}=ej(i,r,e.fee,e.nonce,t.pubKeyEncoding,t.contents);if(i=f,a=u,65536===(o+=1))throw new ee("Too many signatures")}n.push(a)}if(o!==e.signaturesRequired)throw new ee("Incorrect number of signatures");if(s&&e.hashMode===m.dO.SerializeP2SH)throw new ee("Uncompressed keys are not allowed in this hash mode");let a=eO(0,e.hashMode,e.signaturesRequired,n).hash160;if(a!==e.signer)throw new ee(`Signer hash does not equal hash of public key(s): ${a} != ${e.signer}`);return i}(r,t,n);default:throw new Q("Invalid origin auth type")}}(this.auth,this.verifyBegin())}signNextOrigin(e,t){if(void 0===this.auth.spendingCondition)throw Error('"auth.spendingCondition" is undefined');if(void 0===this.auth.authType)throw Error('"auth.authType" is undefined');return this.signAndAppend(this.auth.spendingCondition,e,m.Gr.Standard,t)}signNextSponsor(e,t){if(this.auth.authType===m.Gr.Sponsored)return this.signAndAppend(this.auth.sponsorSpendingCondition,e,m.Gr.Sponsored,t);throw Error('"auth.sponsorSpendingCondition" is undefined')}appendPubkey(e){let t=this.auth.spendingCondition;if(t&&!eR(t)){let r=X(e);t.fields.push(eI(r?m.gW.Compressed:m.gW.Uncompressed,e))}else throw Error("Can't append public key to a singlesig condition")}signAndAppend(e,t,r,n){let{nextSig:i,nextSigHash:s}=function(e,t,r,n,i){let s=ez(e,t,r,n),o=function(e,t){let[r,n]=(0,_.kS)(t,e.data.slice(0,32),{canonical:!0,recovered:!0});if(null==n)throw Error("No signature recoveryId received");let i=(0,E.I4)(n,1),s=i+_.Pc.fromHex(r).toCompactHex();return N(s)}(i,s),a=function(e){let t=function(e){let t=(0,O.Q)(e),r=t.length==C.yo;return{data:t,compressed:r}}(e),r=(0,_.$3)(t.data.slice(0,32),t.compressed);return H((0,E.ci)(r))}(i.data),u=eX(s,a,o);return{nextSig:o,nextSigHash:u}}(t,r,e.fee,e.nonce,n);if(eR(e))e.signature=i;else{let t=n.data.toString("hex").endsWith("01");e.fields.push(eI(t?m.gW.Compressed:m.gW.Uncompressed,i))}return s}txid(){let e=this.serialize();return M(e)}setSponsor(e){if(this.auth.authType!=m.Gr.Sponsored)throw new Q("Cannot sponsor sign a non-sponsored transaction");this.auth=function(e,t){let r=Object.assign(Object.assign({},t),{nonce:(0,E.HN)(t.nonce,!1),fee:(0,E.HN)(t.fee,!1)});return Object.assign(Object.assign({},e),{sponsorSpendingCondition:r})}(this.auth,e)}setFee(e){this.auth=function(e,t){switch(e.authType){case m.Gr.Standard:let r=Object.assign(Object.assign({},e.spendingCondition),{fee:(0,E.HN)(t,!1)});return Object.assign(Object.assign({},e),{spendingCondition:r});case m.Gr.Sponsored:let n=Object.assign(Object.assign({},e.sponsorSpendingCondition),{fee:(0,E.HN)(t,!1)});return Object.assign(Object.assign({},e),{sponsorSpendingCondition:n})}}(this.auth,e)}setNonce(e){this.auth=function(e,t){let r=Object.assign(Object.assign({},e.spendingCondition),{nonce:(0,E.HN)(t,!1)});return Object.assign(Object.assign({},e),{spendingCondition:r})}(this.auth,e)}setSponsorNonce(e){if(this.auth.authType!=m.Gr.Sponsored)throw new Q("Cannot sponsor sign a non-sponsored transaction");this.auth=function(e,t){let r=Object.assign(Object.assign({},e.sponsorSpendingCondition),{nonce:(0,E.HN)(t,!1)});return Object.assign(Object.assign({},e),{sponsorSpendingCondition:r})}(this.auth,e)}serialize(){if(void 0===this.version)throw new Z('"version" is undefined');if(void 0===this.chainId)throw new Z('"chainId" is undefined');if(void 0===this.auth)throw new Z('"auth" is undefined');if(void 0===this.anchorMode)throw new Z('"anchorMode" is undefined');if(void 0===this.payload)throw new Z('"payload" is undefined');let e=new A;e.appendByte(this.version);let t=E.lW.alloc(4);return t.writeUInt32BE(this.chainId,0),e.push(t),e.push(function(e){let t=new A;switch(t.appendByte(e.authType),e.authType){case m.Gr.Standard:t.push(eK(e.spendingCondition));break;case m.Gr.Sponsored:t.push(eK(e.spendingCondition)),t.push(eK(e.sponsorSpendingCondition))}return t.concatBuffer()}(this.auth)),e.appendByte(this.anchorMode),e.appendByte(this.postConditionMode),e.push(eF(this.postConditions)),e.push(em(this.payload)),e.concatBuffer()}}var eJ=r(22094),eQ=r(14984).Buffer,e0=["appDetails","userSession"],e1=function(e){var t=e;if(!t){var r=new y.X(["store_write"],document.location.href);t=new w.V({appConfig:r})}return t};function e2(e){try{return e1(e).loadUserData().appPrivateKey}catch(e){return!1}}var e8=function(e){var t=e1(e).loadUserData().appPrivateKey,r=b.SECP256K1Client.derivePublicKey(t);return{privateKey:t,publicKey:r}};function e6(e){return e.map(function(e){return eM(e).toString("hex")})}function e4(){return(e4=(0,d.x)(g().mark(function e(t,r){var n,i;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t.postConditions)&&"string"!=typeof n[0]&&(n=e6(n)),i=new b.TokenSigner("ES256k",r),e.abrupt("return",i.signAsync((0,d.gY)({},t,{postConditions:n})));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var e3=(a=(0,d.x)(g().mark(function e(t){var r,n,i,s,o,a,u;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.token,n=t.options,i=(0,B.Y)()){e.next=4;break}throw Error("Hiro Wallet not installed");case 4:return e.prev=4,e.next=7,i.transactionRequest(r);case 7:if(o=(s=e.sent).txRaw,a=eQ.from(o.replace(/^0x/,""),"hex"),u=function(e){let t;t="string"==typeof e?new ey("0x"===e.slice(0,2).toLowerCase()?E.lW.from(e.slice(2),"hex"):E.lW.from(e,"hex")):E.lW.isBuffer(e)?new ey(e):e;let r=t.readUInt8Enum(m.Kn,e=>{throw Error(`Could not parse ${e} as TransactionVersion`)}),n=t.readUInt32BE(),i=function(e){let t;let r=e.readUInt8Enum(m.Gr,e=>{throw new J(`Could not parse ${e} as AuthType`)});switch(r){case m.Gr.Standard:return eG(t=eH(e));case m.Gr.Sponsored:t=eH(e);let n=eH(e);return eY(t,n)}}(t),s=t.readUInt8Enum(m.u0,e=>{throw Error(`Could not parse ${e} as AnchorMode`)}),o=t.readUInt8Enum(m.hW,e=>{throw Error(`Could not parse ${e} as PostConditionMode`)}),a=eV(t,m.L8.PostCondition),u=function(e){var t,r,n,i,s,o,a;let u=e.readUInt8Enum(m.MX,e=>{throw Error(`Cannot recognize PayloadType: ${e}`)});switch(u){case m.MX.TokenTransfer:let f=eB(e),c=(0,E.HN)(e.readBuffer(8),!1),h=ek(e);return t=f,r=h,"string"==typeof t&&(t=function(e){if(!e.includes("."))return function(e){let t=q(e);return{type:l.PrincipalStandard,address:t}}(e);{let[t,r]=e.split(".");return function(e,t){let r=q(e),n=Y(t);return ed(r,n)}(t,r)}}(t)),"string"==typeof r&&(r=eT(r)),{type:m.L8.Payload,payloadType:m.MX.TokenTransfer,recipient:t,amount:(0,E.HN)(c,!1),memo:null!=r?r:eT("")};case m.MX.ContractCall:let d=eU(e),p=eL(e),g=eL(e),y=[],w=e.readUInt32BE();for(let t=0;t<w;t++){let t=eB(e);y.push(t)}return n=d,i=p,s=g,"string"==typeof n&&(n=q(n)),"string"==typeof i&&(i=Y(i)),"string"==typeof s&&(s=Y(s)),{type:m.L8.Payload,payloadType:m.MX.ContractCall,contractAddress:n,contractName:i,functionName:s,functionArgs:y};case m.MX.SmartContract:let b=eL(e),B=eL(e,4,1e5);return o=b,a=B,"string"==typeof o&&(o=Y(o)),"string"==typeof a&&(a=Y(a,4,1e5)),{type:m.L8.Payload,payloadType:m.MX.SmartContract,contractName:o,codeBody:a};case m.MX.PoisonMicroblock:return{type:m.L8.Payload,payloadType:m.MX.PoisonMicroblock};case m.MX.Coinbase:let I=e.readBuffer(m.eB);return function(e){if(e.byteLength!=m.eB)throw Error(`Coinbase buffer size must be ${m.eB} bytes`);return{type:m.L8.Payload,payloadType:m.MX.Coinbase,coinbaseBuffer:e}}(I)}}(t);return new eZ(r,i,u,a,o,s,n)}(new ey(a)),!("sponsored"in n&&n.sponsored)){e.next=14;break}return null==n.onFinish||n.onFinish((0,d.gY)({},s,{stacksTransaction:u})),e.abrupt("return");case 14:null==n.onFinish||n.onFinish((0,d.gY)({},s,{stacksTransaction:u})),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(4),console.error("[Connect] Error during transaction request",e.t0),null==n.onCancel||n.onCancel();case 21:case"end":return e.stop()}},e,null,[[4,17]])})),function(e){return a.apply(this,arguments)}),e9=(u=(0,d.x)(g().mark(function e(t){var r,n,i,s,o,a,u,c;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appDetails,n=t.userSession,i=(0,d.gK)(t,e0),!e2(n)){e.next=6;break}return o=(s=e8(n)).privateKey,a=s.publicKey,u=(0,d.gY)({},i,{publicKey:a,txType:f.ContractDeploy}),r&&(u.appDetails=r),e.abrupt("return",function(e,t){return e4.apply(this,arguments)}(u,o));case 6:return c=(0,d.gY)({},i,{txType:f.ContractDeploy}),r&&(c.appDetails=r),e.abrupt("return",function(e){var t=e.postConditions;return t&&"string"!=typeof t[0]&&(t=e6(t)),(0,b.createUnsecuredToken)((0,d.gY)({},e,{postConditions:t}))}(c));case 9:case"end":return e.stop()}},e)})),function(e){return u.apply(this,arguments)});function e5(){return(e5=(0,d.x)(g().mark(function e(t,r){var n;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r((0,d.gY)({},function(e){var t=e.network||new eJ.an;if(e2(e.userSession)){var r=e1(e.userSession),n=(0,d.gY)({},e,{network:t,userSession:r});return(0,d.gY)({stxAddress:function(e){var t,r,n=e.stxAddress,i=e.userSession,s=e.network;if(n)return n;if(i&&s){var o=null==i?void 0:null==(t=i.loadUserData().profile)?void 0:t.stxAddress,a=((r={})[m.oK.Mainnet]="mainnet",r[m.oK.Testnet]="testnet",r);return null==o?void 0:o[a[s.chainId]]}}(n)},n)}return(0,d.gY)({},e,{network:t})}(t),t));case 2:return n=e.sent,e.abrupt("return",e3({token:n,options:t}));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function e7(e){return function(e,t){return e5.apply(this,arguments)}(e,e9)}},22094:function(e,t,r){"use strict";r.d(t,{an:function(){return f}});var n=r(26491);r(70626);let i={referrerPolicy:"origin"};async function s(e,t){let r={};Object.assign(r,t,i);let n=await fetch(e,r);return n}let o=["mainnet","testnet"];class a{constructor(e){var t;this.version=n.Kn.Mainnet,this.chainId=n.oK.Mainnet,this.bnsLookupUrl="https://stacks-node-api.mainnet.stacks.co",this.broadcastEndpoint="/v2/transactions",this.transferFeeEstimateEndpoint="/v2/fees/transfer",this.transactionFeeEstimateEndpoint="/v2/fees/transaction",this.accountEndpoint="/v2/accounts",this.contractAbiEndpoint="/v2/contracts/interface",this.readOnlyFunctionCallEndpoint="/v2/contracts/call-read",this.isMainnet=()=>this.version===n.Kn.Mainnet,this.getBroadcastApiUrl=()=>`${this.coreApiUrl}${this.broadcastEndpoint}`,this.getTransferFeeEstimateApiUrl=()=>`${this.coreApiUrl}${this.transferFeeEstimateEndpoint}`,this.getTransactionFeeEstimateApiUrl=()=>`${this.coreApiUrl}${this.transactionFeeEstimateEndpoint}`,this.getAccountApiUrl=e=>`${this.coreApiUrl}${this.accountEndpoint}/${e}?proof=0`,this.getAbiApiUrl=(e,t)=>`${this.coreApiUrl}${this.contractAbiEndpoint}/${e}/${t}`,this.getReadOnlyFunctionCallApiUrl=(e,t,r)=>`${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}/${e}/${t}/${encodeURIComponent(r)}`,this.getInfoUrl=()=>`${this.coreApiUrl}/v2/info`,this.getBlockTimeInfoUrl=()=>`${this.coreApiUrl}/extended/v1/info/network_block_times`,this.getPoxInfoUrl=()=>`${this.coreApiUrl}/v2/pox`,this.getRewardsUrl=(e,t)=>{let r=`${this.coreApiUrl}/extended/v1/burnchain/rewards/${e}`;return t&&(r=`${r}?limit=${t.limit}&offset=${t.offset}`),r},this.getRewardsTotalUrl=e=>`${this.coreApiUrl}/extended/v1/burnchain/rewards/${e}/total`,this.getRewardHoldersUrl=(e,t)=>{let r=`${this.coreApiUrl}/extended/v1/burnchain/reward_slot_holders/${e}`;return t&&(r=`${r}?limit=${t.limit}&offset=${t.offset}`),r},this.getStackerInfoUrl=(e,t)=>`${this.coreApiUrl}${this.readOnlyFunctionCallEndpoint}
    ${e}/${t}/get-stacker-info`,this.coreApiUrl=e.url,this.fetchFn=null!==(t=e.fetchFn)&&void 0!==t?t:function(...e){let t,r;let{fetchLib:n,middlewares:i}=(t=s,r=[],e.length>0&&"function"==typeof e[0]&&(t=e.shift()),e.length>0&&(r=e),{fetchLib:t,middlewares:r}),o=async(e,t)=>{var r;let s={url:e,init:null!=t?t:{}};for(let e of i)if("function"==typeof e.pre){let t=await Promise.resolve(e.pre(Object.assign({fetch:n},s)));s=null!=t?t:s}let o=await n(s.url,s.init);for(let e of i)if("function"==typeof e.post){let t=await Promise.resolve(e.post({fetch:n,url:s.url,init:s.init,response:null!==(r=null==o?void 0:o.clone())&&void 0!==r?r:o}));o=null!=t?t:o}return o};return o}()}getNameInfo(e){let t=`${this.bnsLookupUrl}/v1/names/${e}`;return this.fetchFn(t).then(e=>{if(404===e.status)throw Error("Name not found");if(200===e.status)return e.json();throw Error(`Bad response status: ${e.status}`)}).then(e=>e.address?Object.assign({},e,{address:e.address}):e)}}a.fromName=e=>{switch(e){case"mainnet":return new u;case"testnet":return new f;default:throw Error(`Invalid network name provided. Must be one of the following: ${o.join(", ")}`)}},a.fromNameOrNetwork=e=>"string"!=typeof e&&"version"in e?e:a.fromName(e);class u extends a{constructor(e){var t;super({url:null!==(t=null==e?void 0:e.url)&&void 0!==t?t:"https://stacks-node-api.mainnet.stacks.co",fetchFn:null==e?void 0:e.fetchFn}),this.version=n.Kn.Mainnet,this.chainId=n.oK.Mainnet}}class f extends a{constructor(e){var t;super({url:null!==(t=null==e?void 0:e.url)&&void 0!==t?t:"https://stacks-node-api.testnet.stacks.co",fetchFn:null==e?void 0:e.fetchFn}),this.version=n.Kn.Testnet,this.chainId=n.oK.Testnet}}},69897:function(e,t,r){"use strict";var n,i,s,o,a,u,f,c,l,h,d,p,g,y,w,b,B,m,E,I,S,_,O,C,U,N,v,L,T,k,P,A;r.d(t,{Am:function(){return g},Cy:function(){return F},DY:function(){return p},Gr:function(){return c},Kn:function(){return a},L8:function(){return i},MX:function(){return s},Nv:function(){return V},Pe:function(){return M},TK:function(){return h},UE:function(){return $},YZ:function(){return y},dO:function(){return l},dV:function(){return K},eB:function(){return W},gW:function(){return d},hW:function(){return u},oK:function(){return n},rC:function(){return x},sX:function(){return f},u0:function(){return o},wS:function(){return D},yl:function(){return R}}),(B=n||(n={}))[B.Testnet=2147483648]="Testnet",B[B.Mainnet=1]="Mainnet";let x=n.Mainnet,F=128,V=128,M=16,W=32,$=65,R=32,D=64,K=34;(m=i||(i={}))[m.Address=0]="Address",m[m.Principal=1]="Principal",m[m.LengthPrefixedString=2]="LengthPrefixedString",m[m.MemoString=3]="MemoString",m[m.AssetInfo=4]="AssetInfo",m[m.PostCondition=5]="PostCondition",m[m.PublicKey=6]="PublicKey",m[m.LengthPrefixedList=7]="LengthPrefixedList",m[m.Payload=8]="Payload",m[m.MessageSignature=9]="MessageSignature",m[m.StructuredDataSignature=10]="StructuredDataSignature",m[m.TransactionAuthField=11]="TransactionAuthField",(E=s||(s={}))[E.TokenTransfer=0]="TokenTransfer",E[E.SmartContract=1]="SmartContract",E[E.ContractCall=2]="ContractCall",E[E.PoisonMicroblock=3]="PoisonMicroblock",E[E.Coinbase=4]="Coinbase",(I=o||(o={}))[I.OnChainOnly=1]="OnChainOnly",I[I.OffChainOnly=2]="OffChainOnly",I[I.Any=3]="Any",(S=a||(a={}))[S.Mainnet=0]="Mainnet",S[S.Testnet=128]="Testnet",a.Mainnet,(_=u||(u={}))[_.Allow=1]="Allow",_[_.Deny=2]="Deny",(O=f||(f={}))[O.STX=0]="STX",O[O.Fungible=1]="Fungible",O[O.NonFungible=2]="NonFungible",(C=c||(c={}))[C.Standard=4]="Standard",C[C.Sponsored=5]="Sponsored",(U=l||(l={}))[U.SerializeP2PKH=0]="SerializeP2PKH",U[U.SerializeP2SH=1]="SerializeP2SH",U[U.SerializeP2WPKH=2]="SerializeP2WPKH",U[U.SerializeP2WSH=3]="SerializeP2WSH",(N=h||(h={}))[N.MainnetSingleSig=22]="MainnetSingleSig",N[N.MainnetMultiSig=20]="MainnetMultiSig",N[N.TestnetSingleSig=26]="TestnetSingleSig",N[N.TestnetMultiSig=21]="TestnetMultiSig",(v=d||(d={}))[v.Compressed=0]="Compressed",v[v.Uncompressed=1]="Uncompressed",(L=p||(p={}))[L.Equal=1]="Equal",L[L.Greater=2]="Greater",L[L.GreaterEqual=3]="GreaterEqual",L[L.Less=4]="Less",L[L.LessEqual=5]="LessEqual",(T=g||(g={}))[T.DoesNotOwn=16]="DoesNotOwn",T[T.Owns=17]="Owns",(k=y||(y={}))[k.Origin=1]="Origin",k[k.Standard=2]="Standard",k[k.Contract=3]="Contract",(P=w||(w={}))[P.STX=0]="STX",P[P.Fungible=1]="Fungible",P[P.NonFungible=2]="NonFungible",(A=b||(b={})).Serialization="Serialization",A.Deserialization="Deserialization",A.SignatureValidation="SignatureValidation",A.FeeTooLow="FeeTooLow",A.BadNonce="BadNonce",A.NotEnoughFunds="NotEnoughFunds",A.NoSuchContract="NoSuchContract",A.NoSuchPublicFunction="NoSuchPublicFunction",A.BadFunctionArgument="BadFunctionArgument",A.ContractAlreadyExists="ContractAlreadyExists",A.PoisonMicroblocksDoNotConflict="PoisonMicroblocksDoNotConflict",A.PoisonMicroblockHasUnknownPubKeyHash="PoisonMicroblockHasUnknownPubKeyHash",A.PoisonMicroblockIsInvalid="PoisonMicroblockIsInvalid",A.BadAddressVersionByte="BadAddressVersionByte",A.NoCoinbaseViaMempool="NoCoinbaseViaMempool",A.ServerFailureNoSuchChainTip="ServerFailureNoSuchChainTip",A.ServerFailureDatabase="ServerFailureDatabase",A.ServerFailureOther="ServerFailureOther"},86046:function(e,t,r){e.exports=r(12297)},21286:function(e,t,r){"use strict";var n=r(14984).Buffer;let i=r(60625);class s{constructor(e){if(this.length=0,this._encoding="utf8",this._writeOffset=0,this._readOffset=0,s.isSmartBufferOptions(e)){if(e.encoding&&(i.checkEncoding(e.encoding),this._encoding=e.encoding),e.size){if(i.isFiniteInteger(e.size)&&e.size>0)this._buff=n.allocUnsafe(e.size);else throw Error(i.ERRORS.INVALID_SMARTBUFFER_SIZE)}else if(e.buff){if(n.isBuffer(e.buff))this._buff=e.buff,this.length=e.buff.length;else throw Error(i.ERRORS.INVALID_SMARTBUFFER_BUFFER)}else this._buff=n.allocUnsafe(4096)}else{if(void 0!==e)throw Error(i.ERRORS.INVALID_SMARTBUFFER_OBJECT);this._buff=n.allocUnsafe(4096)}}static fromSize(e,t){return new this({size:e,encoding:t})}static fromBuffer(e,t){return new this({buff:e,encoding:t})}static fromOptions(e){return new this(e)}static isSmartBufferOptions(e){return e&&(void 0!==e.encoding||void 0!==e.size||void 0!==e.buff)}readInt8(e){return this._readNumberValue(n.prototype.readInt8,1,e)}readInt16BE(e){return this._readNumberValue(n.prototype.readInt16BE,2,e)}readInt16LE(e){return this._readNumberValue(n.prototype.readInt16LE,2,e)}readInt32BE(e){return this._readNumberValue(n.prototype.readInt32BE,4,e)}readInt32LE(e){return this._readNumberValue(n.prototype.readInt32LE,4,e)}readBigInt64BE(e){return i.bigIntAndBufferInt64Check("readBigInt64BE"),this._readNumberValue(n.prototype.readBigInt64BE,8,e)}readBigInt64LE(e){return i.bigIntAndBufferInt64Check("readBigInt64LE"),this._readNumberValue(n.prototype.readBigInt64LE,8,e)}writeInt8(e,t){return this._writeNumberValue(n.prototype.writeInt8,1,e,t),this}insertInt8(e,t){return this._insertNumberValue(n.prototype.writeInt8,1,e,t)}writeInt16BE(e,t){return this._writeNumberValue(n.prototype.writeInt16BE,2,e,t)}insertInt16BE(e,t){return this._insertNumberValue(n.prototype.writeInt16BE,2,e,t)}writeInt16LE(e,t){return this._writeNumberValue(n.prototype.writeInt16LE,2,e,t)}insertInt16LE(e,t){return this._insertNumberValue(n.prototype.writeInt16LE,2,e,t)}writeInt32BE(e,t){return this._writeNumberValue(n.prototype.writeInt32BE,4,e,t)}insertInt32BE(e,t){return this._insertNumberValue(n.prototype.writeInt32BE,4,e,t)}writeInt32LE(e,t){return this._writeNumberValue(n.prototype.writeInt32LE,4,e,t)}insertInt32LE(e,t){return this._insertNumberValue(n.prototype.writeInt32LE,4,e,t)}writeBigInt64BE(e,t){return i.bigIntAndBufferInt64Check("writeBigInt64BE"),this._writeNumberValue(n.prototype.writeBigInt64BE,8,e,t)}insertBigInt64BE(e,t){return i.bigIntAndBufferInt64Check("writeBigInt64BE"),this._insertNumberValue(n.prototype.writeBigInt64BE,8,e,t)}writeBigInt64LE(e,t){return i.bigIntAndBufferInt64Check("writeBigInt64LE"),this._writeNumberValue(n.prototype.writeBigInt64LE,8,e,t)}insertBigInt64LE(e,t){return i.bigIntAndBufferInt64Check("writeBigInt64LE"),this._insertNumberValue(n.prototype.writeBigInt64LE,8,e,t)}readUInt8(e){return this._readNumberValue(n.prototype.readUInt8,1,e)}readUInt16BE(e){return this._readNumberValue(n.prototype.readUInt16BE,2,e)}readUInt16LE(e){return this._readNumberValue(n.prototype.readUInt16LE,2,e)}readUInt32BE(e){return this._readNumberValue(n.prototype.readUInt32BE,4,e)}readUInt32LE(e){return this._readNumberValue(n.prototype.readUInt32LE,4,e)}readBigUInt64BE(e){return i.bigIntAndBufferInt64Check("readBigUInt64BE"),this._readNumberValue(n.prototype.readBigUInt64BE,8,e)}readBigUInt64LE(e){return i.bigIntAndBufferInt64Check("readBigUInt64LE"),this._readNumberValue(n.prototype.readBigUInt64LE,8,e)}writeUInt8(e,t){return this._writeNumberValue(n.prototype.writeUInt8,1,e,t)}insertUInt8(e,t){return this._insertNumberValue(n.prototype.writeUInt8,1,e,t)}writeUInt16BE(e,t){return this._writeNumberValue(n.prototype.writeUInt16BE,2,e,t)}insertUInt16BE(e,t){return this._insertNumberValue(n.prototype.writeUInt16BE,2,e,t)}writeUInt16LE(e,t){return this._writeNumberValue(n.prototype.writeUInt16LE,2,e,t)}insertUInt16LE(e,t){return this._insertNumberValue(n.prototype.writeUInt16LE,2,e,t)}writeUInt32BE(e,t){return this._writeNumberValue(n.prototype.writeUInt32BE,4,e,t)}insertUInt32BE(e,t){return this._insertNumberValue(n.prototype.writeUInt32BE,4,e,t)}writeUInt32LE(e,t){return this._writeNumberValue(n.prototype.writeUInt32LE,4,e,t)}insertUInt32LE(e,t){return this._insertNumberValue(n.prototype.writeUInt32LE,4,e,t)}writeBigUInt64BE(e,t){return i.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._writeNumberValue(n.prototype.writeBigUInt64BE,8,e,t)}insertBigUInt64BE(e,t){return i.bigIntAndBufferInt64Check("writeBigUInt64BE"),this._insertNumberValue(n.prototype.writeBigUInt64BE,8,e,t)}writeBigUInt64LE(e,t){return i.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._writeNumberValue(n.prototype.writeBigUInt64LE,8,e,t)}insertBigUInt64LE(e,t){return i.bigIntAndBufferInt64Check("writeBigUInt64LE"),this._insertNumberValue(n.prototype.writeBigUInt64LE,8,e,t)}readFloatBE(e){return this._readNumberValue(n.prototype.readFloatBE,4,e)}readFloatLE(e){return this._readNumberValue(n.prototype.readFloatLE,4,e)}writeFloatBE(e,t){return this._writeNumberValue(n.prototype.writeFloatBE,4,e,t)}insertFloatBE(e,t){return this._insertNumberValue(n.prototype.writeFloatBE,4,e,t)}writeFloatLE(e,t){return this._writeNumberValue(n.prototype.writeFloatLE,4,e,t)}insertFloatLE(e,t){return this._insertNumberValue(n.prototype.writeFloatLE,4,e,t)}readDoubleBE(e){return this._readNumberValue(n.prototype.readDoubleBE,8,e)}readDoubleLE(e){return this._readNumberValue(n.prototype.readDoubleLE,8,e)}writeDoubleBE(e,t){return this._writeNumberValue(n.prototype.writeDoubleBE,8,e,t)}insertDoubleBE(e,t){return this._insertNumberValue(n.prototype.writeDoubleBE,8,e,t)}writeDoubleLE(e,t){return this._writeNumberValue(n.prototype.writeDoubleLE,8,e,t)}insertDoubleLE(e,t){return this._insertNumberValue(n.prototype.writeDoubleLE,8,e,t)}readString(e,t){let r;"number"==typeof e?(i.checkLengthValue(e),r=Math.min(e,this.length-this._readOffset)):(t=e,r=this.length-this._readOffset),void 0!==t&&i.checkEncoding(t);let n=this._buff.slice(this._readOffset,this._readOffset+r).toString(t||this._encoding);return this._readOffset+=r,n}insertString(e,t,r){return i.checkOffsetValue(t),this._handleString(e,!0,t,r)}writeString(e,t,r){return this._handleString(e,!1,t,r)}readStringNT(e){void 0!==e&&i.checkEncoding(e);let t=this.length;for(let e=this._readOffset;e<this.length;e++)if(0===this._buff[e]){t=e;break}let r=this._buff.slice(this._readOffset,t);return this._readOffset=t+1,r.toString(e||this._encoding)}insertStringNT(e,t,r){return i.checkOffsetValue(t),this.insertString(e,t,r),this.insertUInt8(0,t+e.length),this}writeStringNT(e,t,r){return this.writeString(e,t,r),this.writeUInt8(0,"number"==typeof t?t+e.length:this.writeOffset),this}readBuffer(e){void 0!==e&&i.checkLengthValue(e);let t="number"==typeof e?e:this.length,r=Math.min(this.length,this._readOffset+t),n=this._buff.slice(this._readOffset,r);return this._readOffset=r,n}insertBuffer(e,t){return i.checkOffsetValue(t),this._handleBuffer(e,!0,t)}writeBuffer(e,t){return this._handleBuffer(e,!1,t)}readBufferNT(){let e=this.length;for(let t=this._readOffset;t<this.length;t++)if(0===this._buff[t]){e=t;break}let t=this._buff.slice(this._readOffset,e);return this._readOffset=e+1,t}insertBufferNT(e,t){return i.checkOffsetValue(t),this.insertBuffer(e,t),this.insertUInt8(0,t+e.length),this}writeBufferNT(e,t){return void 0!==t&&i.checkOffsetValue(t),this.writeBuffer(e,t),this.writeUInt8(0,"number"==typeof t?t+e.length:this._writeOffset),this}clear(){return this._writeOffset=0,this._readOffset=0,this.length=0,this}remaining(){return this.length-this._readOffset}get readOffset(){return this._readOffset}set readOffset(e){i.checkOffsetValue(e),i.checkTargetOffset(e,this),this._readOffset=e}get writeOffset(){return this._writeOffset}set writeOffset(e){i.checkOffsetValue(e),i.checkTargetOffset(e,this),this._writeOffset=e}get encoding(){return this._encoding}set encoding(e){i.checkEncoding(e),this._encoding=e}get internalBuffer(){return this._buff}toBuffer(){return this._buff.slice(0,this.length)}toString(e){let t="string"==typeof e?e:this._encoding;return i.checkEncoding(t),this._buff.toString(t,0,this.length)}destroy(){return this.clear(),this}_handleString(e,t,r,s){let o=this._writeOffset,a=this._encoding;"number"==typeof r?o=r:"string"==typeof r&&(i.checkEncoding(r),a=r),"string"==typeof s&&(i.checkEncoding(s),a=s);let u=n.byteLength(e,a);return t?this.ensureInsertable(u,o):this._ensureWriteable(u,o),this._buff.write(e,o,u,a),t?this._writeOffset+=u:"number"==typeof r?this._writeOffset=Math.max(this._writeOffset,o+u):this._writeOffset+=u,this}_handleBuffer(e,t,r){let n="number"==typeof r?r:this._writeOffset;return t?this.ensureInsertable(e.length,n):this._ensureWriteable(e.length,n),e.copy(this._buff,n),t?this._writeOffset+=e.length:"number"==typeof r?this._writeOffset=Math.max(this._writeOffset,n+e.length):this._writeOffset+=e.length,this}ensureReadable(e,t){let r=this._readOffset;if(void 0!==t&&(i.checkOffsetValue(t),r=t),r<0||r+e>this.length)throw Error(i.ERRORS.INVALID_READ_BEYOND_BOUNDS)}ensureInsertable(e,t){i.checkOffsetValue(t),this._ensureCapacity(this.length+e),t<this.length&&this._buff.copy(this._buff,t+e,t,this._buff.length),t+e>this.length?this.length=t+e:this.length+=e}_ensureWriteable(e,t){let r="number"==typeof t?t:this._writeOffset;this._ensureCapacity(r+e),r+e>this.length&&(this.length=r+e)}_ensureCapacity(e){let t=this._buff.length;if(e>t){let r=this._buff,i=3*t/2+1;i<e&&(i=e),this._buff=n.allocUnsafe(i),r.copy(this._buff,0,0,t)}}_readNumberValue(e,t,r){this.ensureReadable(t,r);let n=e.call(this._buff,"number"==typeof r?r:this._readOffset);return void 0===r&&(this._readOffset+=t),n}_insertNumberValue(e,t,r,n){return i.checkOffsetValue(n),this.ensureInsertable(t,n),e.call(this._buff,r,n),this._writeOffset+=t,this}_writeNumberValue(e,t,r,n){if("number"==typeof n){if(n<0)throw Error(i.ERRORS.INVALID_WRITE_BEYOND_BOUNDS);i.checkOffsetValue(n)}let s="number"==typeof n?n:this._writeOffset;return this._ensureWriteable(t,s),e.call(this._buff,r,s),"number"==typeof n?this._writeOffset=Math.max(this._writeOffset,s+t):this._writeOffset+=t,this}}t.$=s},60625:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(14984),i={INVALID_ENCODING:"Invalid encoding provided. Please specify a valid encoding the internal Node.js Buffer supports.",INVALID_SMARTBUFFER_SIZE:"Invalid size provided. Size must be a valid integer greater than zero.",INVALID_SMARTBUFFER_BUFFER:"Invalid Buffer provided in SmartBufferOptions.",INVALID_SMARTBUFFER_OBJECT:"Invalid SmartBufferOptions object supplied to SmartBuffer constructor or factory methods.",INVALID_OFFSET:"An invalid offset value was provided.",INVALID_OFFSET_NON_NUMBER:"An invalid offset value was provided. A numeric value is required.",INVALID_LENGTH:"An invalid length value was provided.",INVALID_LENGTH_NON_NUMBER:"An invalid length value was provived. A numeric value is required.",INVALID_TARGET_OFFSET:"Target offset is beyond the bounds of the internal SmartBuffer data.",INVALID_TARGET_LENGTH:"Specified length value moves cursor beyong the bounds of the internal SmartBuffer data.",INVALID_READ_BEYOND_BOUNDS:"Attempted to read beyond the bounds of the managed data.",INVALID_WRITE_BEYOND_BOUNDS:"Attempted to write beyond the bounds of the managed data."};function s(e){var t;return"number"==typeof e&&isFinite(e)&&"number"==typeof(t=e)&&isFinite(t)&&Math.floor(t)===t}function o(e,t){if("number"==typeof e){if(!s(e)||e<0)throw Error(t?i.INVALID_OFFSET:i.INVALID_LENGTH)}else throw Error(t?i.INVALID_OFFSET_NON_NUMBER:i.INVALID_LENGTH_NON_NUMBER)}t.ERRORS=i,t.checkEncoding=function(e){if(!n.Buffer.isEncoding(e))throw Error(i.INVALID_ENCODING)},t.isFiniteInteger=s,t.checkLengthValue=function(e){o(e,!1)},t.checkOffsetValue=function(e){o(e,!0)},t.checkTargetOffset=function(e,t){if(e<0||e>t.length)throw Error(i.INVALID_TARGET_OFFSET)},t.bigIntAndBufferInt64Check=function(e){if("undefined"==typeof BigInt)throw Error("Platform does not support JS BigInt type.");if(void 0===n.Buffer.prototype[e])throw Error(`Platform does not support Buffer.prototype.${e}.`)}},17621:function(e,t,r){"use strict";function n(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}r.d(t,{_:function(){return n}})}}]);